From 141f572135f7abea82e53e6236e662724467c1b2 Mon Sep 17 00:00:00 2001
From: Tanel Dettenborn <tanel@ssrc.tii.ae>
Date: Mon, 23 Jun 2025 12:58:13 +0300
Subject: [PATCH] Kernel 6.12 port

A couple of things needs *checking*. Marked: TODO 6.12

Signed-off-by: Tanel Dettenborn <tanel@ssrc.tii.ae>
---
 nvdisplay/kernel-open/common/inc/nv-linux.h   |  3 ++-
 .../kernel-open/nvidia-drm/nvidia-drm-drv.c   |  9 +++++--
 .../nvidia/nv-dsi-parse-panel-props.c         |  8 ++++--
 .../gpu/nvgpu/os/linux/ioctl_clk_arb.c        | 13 +++++-----
 .../tegra_hv_vblk_oops.c                      | 14 ++++++++++-
 nvidia-oot/drivers/bluetooth/realtek/rtk_bt.c |  7 ++++++
 .../drivers/bluetooth/realtek/rtk_misc.c      |  7 +++++-
 .../drivers/cpuidle/cpuidle-tegra-auto.c      | 15 ++++++++++-
 .../drivers/crypto/tegra-hv-vse-safety.c      | 15 ++++++++++-
 nvidia-oot/drivers/crypto/tegra-se-nvrng.c    | 15 ++++++++++-
 .../drivers/crypto/tegra/tegra-se-main.c      | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/dc.c         | 14 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/dpaux.c      | 14 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/drm.c        | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/dsi.c        | 14 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/gr2d.c       | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/gr3d.c       | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/hdmi.c       | 14 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/hub.c        | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/nvdec.c      | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/nvenc.c      | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/nvjpg.c      | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/ofa.c        | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/riscv.c      |  7 ++++++
 nvidia-oot/drivers/gpu/drm/tegra/sor.c        | 14 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/vic.c        | 15 ++++++++++-
 nvidia-oot/drivers/gpu/drm/tegra/virt.c       | 15 ++++++++++-
 nvidia-oot/drivers/gpu/host1x/dev.c           | 14 ++++++++++-
 nvidia-oot/drivers/gpu/host1x/mipi.c          | 15 ++++++++++-
 .../platform/tegra/cam_fsync/cam_fsync.c      | 14 ++++++++++-
 .../camera/fusa-capture/capture-isp-channel.c |  5 +++-
 .../camera/fusa-capture/capture-vi-channel.c  |  4 ++-
 .../tegra/camera/fusa-capture/capture-vi.c    | 15 ++++++++++-
 .../media/platform/tegra/cdi/cam_cdi_tsc.c    | 14 ++++++++++-
 .../media/platform/tegra/cdi/cdi_gpio.c       | 14 ++++++++++-
 .../media/platform/tegra/cdi/cdi_mgr.c        | 14 ++++++++++-
 .../media/platform/tegra/cdi/cdi_pwm.c        | 14 ++++++++++-
 .../media/platform/tegra/isc/isc_gpio.c       | 14 ++++++++++-
 .../media/platform/tegra/isc/isc_mgr.c        | 14 ++++++++++-
 .../media/platform/tegra/isc/isc_pwm.c        | 14 ++++++++++-
 nvidia-oot/drivers/misc/bluedroid_pm.c        | 16 +++++++++---
 .../drivers/misc/nvscic2c-pcie/epf/module.c   | 12 ++++++++-
 nvidia-oot/drivers/misc/nvsciipc/nvsciipc.c   | 25 +++++++++++++++----
 nvidia-oot/drivers/mtd/devices/tegra_hv_mtd.c | 15 ++++++++++-
 .../net/can/mttcan/native/m_ttcan_linux.c     | 14 ++++++++++-
 .../ethernet/nvidia/nvethernet/ether_linux.c  | 14 ++++++++++-
 .../drivers/nvpmodel/nvpmodel-clk-cap.c       | 15 ++++++++++-
 nvidia-oot/drivers/nvpps/nvpps_main.c         | 13 +++++++++-
 .../drivers/pci/controller/pcie-tegra-vf.c    | 15 ++++++++++-
 .../pci/endpoint/functions/pci-epf-dma-test.c |  9 +++++++
 .../endpoint/functions/pci-epf-tegra-vnet.c   |  8 ++++++
 .../platform/tegra/aon/tegra-aon-ivc-echo.c   | 15 ++++++++++-
 .../platform/tegra/aon/tegra-aon-module.c     | 15 ++++++++++-
 .../drivers/platform/tegra/dce/dce-module.c   | 15 ++++++++++-
 nvidia-oot/drivers/platform/tegra/mc-hwpm.c   | 15 ++++++++++-
 .../drivers/platform/tegra/mce/tegra23x-mce.c | 15 ++++++++++-
 .../platform/tegra/psc/tegra23x_psc_mailbox.c | 15 ++++++++++-
 .../drivers/platform/tegra/rtcpu/camchar.c    |  3 +++
 .../tegra/rtcpu/tegra-camera-rtcpu-base.c     | 15 ++++++++++-
 .../platform/tegra/tegra-cactmon-mc-all.c     | 15 ++++++++++-
 .../drivers/platform/tegra/tegra-fsicom.c     | 14 ++++++++++-
 .../platform/tegra/tegra-uss-io-proxy.c       | 15 ++++++++++-
 .../platform/tegra/tegra_bootloader_debug.c   | 15 ++++++++++-
 .../tegra/uncore_pmu/tegra23x_perf_uncore.c   | 15 ++++++++++-
 nvidia-oot/drivers/pwm/pwm-tegra-tachometer.c | 14 ++++++++++-
 nvidia-oot/drivers/ras/arm64-ras.c            | 15 ++++++++++-
 nvidia-oot/drivers/rtc/nvvrs-pseq-rtc.c       | 15 ++++++++++-
 nvidia-oot/drivers/rtc/rtc-max77851.c         | 15 ++++++++++-
 .../drivers/scsi/ufs/ufs-tegra-common.c       | 16 +++++++++---
 nvidia-oot/drivers/soc/tegra/fuse/kfuse.c     | 15 ++++++++++-
 nvidia-oot/drivers/spi/spi-tegra124-slave.c   | 16 +++++++++++-
 nvidia-oot/drivers/spi/spi-tegra210-quad.c    | 14 ++++++++++-
 .../drivers/thermal/tegra234-oc-event.c       | 15 ++++++++++-
 .../drivers/thermal/thermal-trip-event.c      | 15 ++++++++++-
 .../tegra/camera/tegra_camera_platform.c      | 15 ++++++++++-
 .../dc/bridge/maxim_gmsl_dp_serializer.c      |  2 +-
 .../dc/bridge/maxim_gmsl_hdmi_serializer.c    |  4 +--
 .../tegra/host/capture/capture-support.c      | 15 ++++++++++-
 .../drivers/video/tegra/host/isp/isp5.c       | 15 ++++++++++-
 .../video/tegra/host/nvcsi/nvcsi-t194.c       | 20 +++++++++++++--
 .../drivers/video/tegra/host/nvcsi/nvcsi.c    |  5 +++-
 .../drivers/video/tegra/host/nvdla/nvdla.c    | 15 ++++++++++-
 .../video/tegra/host/nvdla/nvdla_ioctl.c      |  5 +++-
 nvidia-oot/drivers/video/tegra/host/pva/pva.c | 15 ++++++++++-
 .../drivers/video/tegra/host/pva/pva_ioctl.c  |  4 ++-
 .../tegra/host/pva/pva_iommu_context_dev.c    | 15 ++++++++++-
 nvidia-oot/drivers/video/tegra/host/vi/vi5.c  | 15 ++++++++++-
 .../drivers/video/tegra/nvmap/nvmap_dev.c     |  2 +-
 .../drivers/video/tegra/nvmap/nvmap_init.c    | 15 ++++++++++-
 nvidia-oot/drivers/video/tegra/tsec/tsec.c    | 15 ++++++++++-
 .../drivers/virt/tegra/tegra_hv_pm_ctl.c      | 17 ++++++++++++-
 .../drivers/virt/tegra/tegra_hv_vcpu_yield.c  | 14 ++++++++++-
 nvidia-oot/drivers/watchdog/max77851_wdt.c    | 15 ++++++++++-
 .../drivers/watchdog/softdog-platform.c       | 15 ++++++++++-
 .../drivers/watchdog/watchdog-tegra-t18x.c    | 15 ++++++++++-
 nvidia-oot/scripts/conftest/Makefile          |  1 +
 nvidia-oot/scripts/conftest/conftest.sh       |  4 +++
 .../soc/tegra-virt-alt/tegra_virt_ref_alt.c   | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra186_arad.c    | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra186_asrc.c    | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra186_dspk.c    | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_admaif.c  | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_adx.c     | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_afc.c     | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_ahub.c    | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_amx.c     | 15 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_dmic.c    | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_i2s.c     | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_iqc.c     | 15 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_mixer.c   | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_mvc.c     | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_ope.c     | 14 ++++++++++-
 nvidia-oot/sound/soc/tegra/tegra210_sfc.c     | 14 ++++++++++-
 .../sound/soc/tegra/tegra_machine_driver.c    | 14 ++++++++++-
 .../sound/tegra-safety-audio/sound-card.c     | 14 ++++++++++-
 115 files changed, 1388 insertions(+), 125 deletions(-)

diff --git a/nvdisplay/kernel-open/common/inc/nv-linux.h b/nvdisplay/kernel-open/common/inc/nv-linux.h
index e2254aa..0329e45 100644
--- a/nvdisplay/kernel-open/common/inc/nv-linux.h
+++ b/nvdisplay/kernel-open/common/inc/nv-linux.h
@@ -497,8 +497,9 @@ static inline void *nv_vmalloc(unsigned long size)
 #else
     void *ptr = __vmalloc(size, GFP_KERNEL);
 #endif
-    if (ptr)
+    if (ptr) {
         NV_MEMDBG_ADD(ptr, size);
+    }
     return ptr;
 }
 
diff --git a/nvdisplay/kernel-open/nvidia-drm/nvidia-drm-drv.c b/nvdisplay/kernel-open/nvidia-drm/nvidia-drm-drv.c
index 61842e8..a66169b 100644
--- a/nvdisplay/kernel-open/nvidia-drm/nvidia-drm-drv.c
+++ b/nvdisplay/kernel-open/nvidia-drm/nvidia-drm-drv.c
@@ -71,7 +71,7 @@
 
 #include <linux/pci.h>
 #include <linux/workqueue.h>
-
+#include <linux/version.h>
 /*
  * Commit fcd70cd36b9b ("drm: Split out drm_probe_helper.h")
  * moves a number of helper function definitions from
@@ -199,8 +199,13 @@ static const struct drm_mode_config_funcs nv_mode_config_funcs = {
     .atomic_state_free  = nv_drm_atomic_state_free,
     .atomic_check  = nv_drm_atomic_check,
     .atomic_commit = nv_drm_atomic_commit,
-
+/*
+ * TODO 6.12: Might not the best fix :/
+ * Lets test and see.
+ */
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
     .output_poll_changed = nv_drm_output_poll_changed,
+#endif
 };
 
 static void nv_drm_event_callback(const struct NvKmsKapiEvent *event)
diff --git a/nvdisplay/kernel-open/nvidia/nv-dsi-parse-panel-props.c b/nvdisplay/kernel-open/nvidia/nv-dsi-parse-panel-props.c
index 9ac5866..a4676de 100644
--- a/nvdisplay/kernel-open/nvidia/nv-dsi-parse-panel-props.c
+++ b/nvdisplay/kernel-open/nvidia/nv-dsi-parse-panel-props.c
@@ -20,7 +20,6 @@
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
  * DEALINGS IN THE SOFTWARE.
  */
-
 #define  __NO_VERSION__
 
 #include "os-interface.h"
@@ -493,7 +492,12 @@ static int parse_dsi_properties(const struct device_node *np_dsi, DSI_PANEL_INFO
         "nvidia,dsi-lvds-bridge", &temp))
         dsi->dsi2lvds_bridge_enable = (bool)temp;
 
-    of_property_for_each_u32(np_dsi_panel, "nvidia,dsi-dpd-pads", prop, p, temp)
+//Possible TODO 6.12: Seems like display driver does not use conftests
+//#if defined(NV_OF_PROPERTY_FOR_EACH_REMOVED_INTERNAL_ARGS) /* Linux v6.11 */
+    of_property_for_each_u32(np_dsi_panel, "nvidia,dsi-dpd-pads", temp)
+//#else
+//    of_property_for_each_u32(np_dsi_panel, "nvidia,dsi-dpd-pads", prop, p, temp)
+//#endif
         dsi->dpd_dsi_pads |= (u32)temp;
 
     if (!of_property_read_u32(np_dsi_panel,
diff --git a/nvgpu/drivers/gpu/nvgpu/os/linux/ioctl_clk_arb.c b/nvgpu/drivers/gpu/nvgpu/os/linux/ioctl_clk_arb.c
index c7cd73e..e8ed84b 100644
--- a/nvgpu/drivers/gpu/nvgpu/os/linux/ioctl_clk_arb.c
+++ b/nvgpu/drivers/gpu/nvgpu/os/linux/ioctl_clk_arb.c
@@ -424,15 +424,16 @@ int nvgpu_clk_arb_commit_request_fd(struct gk20a *g,
 	clk_arb_dbg(g, " ");
 
 	fd  = fdget(request_fd);
-	if (!fd.file)
+
+	if (!fd_file(fd))
 		return -EINVAL;
 
-	if (fd.file->f_op != &completion_dev_ops) {
+	if (fd_file(fd)->f_op != &completion_dev_ops) {
 		err = -EINVAL;
 		goto fdput_fd;
 	}
 
-	dev = (struct nvgpu_clk_dev *) fd.file->private_data;
+	dev = (struct nvgpu_clk_dev *) fd_file(fd)->private_data;
 
 	if (!dev || dev->session != session) {
 		err = -EINVAL;
@@ -465,15 +466,15 @@ int nvgpu_clk_arb_set_session_target_mhz(struct nvgpu_clk_session *session,
 			"domain=0x%08x target_mhz=%u", api_domain, target_mhz);
 
 	fd = fdget(request_fd);
-	if (!fd.file)
+	if (!fd_file(fd))
 		return -EINVAL;
 
-	if (fd.file->f_op != &completion_dev_ops) {
+	if (fd_file(fd)->f_op != &completion_dev_ops) {
 		err = -EINVAL;
 		goto fdput_fd;
 	}
 
-	dev = fd.file->private_data;
+	dev = fd_file(fd)->private_data;
 	if (!dev || dev->session != session) {
 		err = -EINVAL;
 		goto fdput_fd;
diff --git a/nvidia-oot/drivers/block/tegra_oops_virt_storage/tegra_hv_vblk_oops.c b/nvidia-oot/drivers/block/tegra_oops_virt_storage/tegra_hv_vblk_oops.c
index cbc2549..31e0b57 100644
--- a/nvidia-oot/drivers/block/tegra_oops_virt_storage/tegra_hv_vblk_oops.c
+++ b/nvidia-oot/drivers/block/tegra_oops_virt_storage/tegra_hv_vblk_oops.c
@@ -802,9 +802,21 @@ static const struct of_device_id tegra_hv_vblk_oops_match[] = {
 MODULE_DEVICE_TABLE(of, tegra_hv_vblk_oops_match);
 #endif /* CONFIG_OF */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_hv_vblk_oops_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_hv_vblk_oops_remove(pdev);
+}
+#else
+static inline int tegra_hv_vblk_oops_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_hv_vblk_oops_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_hv_vblk_oops_driver = {
 	.probe	= tegra_hv_vblk_oops_probe,
-	.remove	= tegra_hv_vblk_oops_remove,
+	.remove	= tegra_hv_vblk_oops_remove_wrapper,
 	.driver	= {
 		.name = OOPS_DRV_NAME,
 		.owner = THIS_MODULE,
diff --git a/nvidia-oot/drivers/bluetooth/realtek/rtk_bt.c b/nvidia-oot/drivers/bluetooth/realtek/rtk_bt.c
index 95b7b7e..f329b5b 100644
--- a/nvidia-oot/drivers/bluetooth/realtek/rtk_bt.c
+++ b/nvidia-oot/drivers/bluetooth/realtek/rtk_bt.c
@@ -17,7 +17,14 @@
 #include <linux/dcache.h>
 #include <linux/reboot.h>
 #include <net/sock.h>
+
+#include <linux/version.h>
+
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 12, 0)
+#include <linux/unaligned.h>
+#else
 #include <asm/unaligned.h>
+#endif
 
 #include "rtk_bt.h"
 #include "rtk_misc.h"
diff --git a/nvidia-oot/drivers/bluetooth/realtek/rtk_misc.c b/nvidia-oot/drivers/bluetooth/realtek/rtk_misc.c
index 5dec1a5..dd45927 100644
--- a/nvidia-oot/drivers/bluetooth/realtek/rtk_misc.c
+++ b/nvidia-oot/drivers/bluetooth/realtek/rtk_misc.c
@@ -17,7 +17,6 @@
 #include <linux/dcache.h>
 #include <linux/in.h>
 #include <net/sock.h>
-#include <asm/unaligned.h>
 
 #include <linux/interrupt.h>
 #include <linux/module.h>
@@ -33,6 +32,12 @@
 
 #include <linux/version.h>
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 12, 0)
+#include <linux/unaligned.h>
+#else
+#include <asm/unaligned.h>
+#endif
+
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 32)
 #include <linux/pm_runtime.h>
 #endif
diff --git a/nvidia-oot/drivers/cpuidle/cpuidle-tegra-auto.c b/nvidia-oot/drivers/cpuidle/cpuidle-tegra-auto.c
index 7571a97..898c64f 100644
--- a/nvidia-oot/drivers/cpuidle/cpuidle-tegra-auto.c
+++ b/nvidia-oot/drivers/cpuidle/cpuidle-tegra-auto.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2022-2023, NVIDIA CORPORATION.  All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/cpu_cooling.h>
 #include <linux/cpuidle.h>
@@ -226,9 +227,21 @@ static const struct of_device_id tegra_auto_cpuidle_of[] = {
 	{ },
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_auto_cpuidle_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_auto_cpuidle_remove(pdev);
+}
+#else
+static inline int tegra_auto_cpuidle_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_auto_cpuidle_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_auto_cpuidle_driver __refdata = {
 	.probe	= tegra_auto_cpuidle_probe,
-	.remove	= tegra_auto_cpuidle_remove,
+	.remove	= tegra_auto_cpuidle_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "cpuidle_tegra_auto",
diff --git a/nvidia-oot/drivers/crypto/tegra-hv-vse-safety.c b/nvidia-oot/drivers/crypto/tegra-hv-vse-safety.c
index 3517b0d..024b585 100644
--- a/nvidia-oot/drivers/crypto/tegra-hv-vse-safety.c
+++ b/nvidia-oot/drivers/crypto/tegra-hv-vse-safety.c
@@ -4,6 +4,7 @@
  *
  * Cryptographic API.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/module.h>
 #include <linux/init.h>
@@ -5209,9 +5210,21 @@ static const struct dev_pm_ops tegra_hv_pm_ops = {
 };
 #endif /* CONFIG_PM */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_hv_vse_safety_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_hv_vse_safety_remove(pdev);
+}
+#else
+static inline int tegra_hv_vse_safety_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_hv_vse_safety_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_hv_vse_safety_driver = {
 	.probe = tegra_hv_vse_safety_probe,
-	.remove = tegra_hv_vse_safety_remove,
+	.remove = tegra_hv_vse_safety_remove_wrapper,
 	.shutdown = tegra_hv_vse_safety_shutdown,
 	.driver = {
 		.name = "tegra_hv_vse_safety",
diff --git a/nvidia-oot/drivers/crypto/tegra-se-nvrng.c b/nvidia-oot/drivers/crypto/tegra-se-nvrng.c
index cf5f250..16b7722 100644
--- a/nvidia-oot/drivers/crypto/tegra-se-nvrng.c
+++ b/nvidia-oot/drivers/crypto/tegra-se-nvrng.c
@@ -4,6 +4,7 @@
  *
  * Support for Tegra NVRNG Engine Error Handling.
  */
+#include <nvidia/conftest.h>
 
 #include <asm/io.h>
 #include <linux/acpi.h>
@@ -357,9 +358,21 @@ static const struct of_device_id tegra_se_nvrng_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_se_nvrng_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_se_nvrng_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_se_nvrng_remove(pdev);
+}
+#else
+static inline int tegra_se_nvrng_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_se_nvrng_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_se_nvrng_driver = {
 	.probe = tegra_se_nvrng_probe,
-	.remove = tegra_se_nvrng_remove,
+	.remove = tegra_se_nvrng_remove_wrapper,
 	.driver = {
 		.name = "tegra-se-nvrng",
 		.owner = THIS_MODULE,
diff --git a/nvidia-oot/drivers/crypto/tegra/tegra-se-main.c b/nvidia-oot/drivers/crypto/tegra/tegra-se-main.c
index b1abc6e..0721ea6 100644
--- a/nvidia-oot/drivers/crypto/tegra/tegra-se-main.c
+++ b/nvidia-oot/drivers/crypto/tegra/tegra-se-main.c
@@ -3,6 +3,7 @@
 /*
  * Crypto driver for NVIDIA Security Engine in Tegra Chips
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/dma-mapping.h>
@@ -386,13 +387,25 @@ static const struct of_device_id tegra_se_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_se_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_se_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_se_remove(pdev);
+}
+#else
+static inline int tegra_se_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_se_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_se_driver = {
 	.driver = {
 		.name	= "tegra-se",
 		.of_match_table = tegra_se_of_match,
 	},
 	.probe		= tegra_se_probe,
-	.remove		= tegra_se_remove,
+	.remove		= tegra_se_remove_wrapper,
 };
 
 static int tegra_se_host1x_probe(struct host1x_device *dev)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/dc.c b/nvidia-oot/drivers/gpu/drm/tegra/dc.c
index 4d10dfe..1863bd9 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/dc.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/dc.c
@@ -3295,11 +3295,23 @@ static int tegra_dc_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_dc_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_dc_remove(pdev);
+}
+#else
+static inline int tegra_dc_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_dc_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_dc_driver = {
 	.driver = {
 		.name = "tegra-dc",
 		.of_match_table = tegra_dc_of_match,
 	},
 	.probe = tegra_dc_probe,
-	.remove = tegra_dc_remove,
+	.remove = tegra_dc_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/dpaux.c b/nvidia-oot/drivers/gpu/drm/tegra/dpaux.c
index fb45477..e04e338 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/dpaux.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/dpaux.c
@@ -708,6 +708,18 @@ static const struct of_device_id tegra_dpaux_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_dpaux_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_dpaux_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_dpaux_remove(pdev);
+}
+#else
+static inline int tegra_dpaux_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_dpaux_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_dpaux_driver = {
 	.driver = {
 		.name = "tegra-dpaux",
@@ -715,7 +727,7 @@ struct platform_driver tegra_dpaux_driver = {
 		.pm = &tegra_dpaux_pm_ops,
 	},
 	.probe = tegra_dpaux_probe,
-	.remove = tegra_dpaux_remove,
+	.remove = tegra_dpaux_remove_wrapper,
 };
 
 struct drm_dp_aux *drm_dp_aux_find_by_of_node(struct device_node *np)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/drm.c b/nvidia-oot/drivers/gpu/drm/tegra/drm.c
index 657415b..3a56364 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/drm.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/drm.c
@@ -61,7 +61,11 @@ static int tegra_atomic_check(struct drm_device *drm,
 
 static const struct drm_mode_config_funcs tegra_drm_mode_config_funcs = {
 	.fb_create = tegra_fb_create,
-#ifdef CONFIG_DRM_FBDEV_EMULATION
+/*
+ * TODO 6.12: Might not be the best fix :/
+ * Lets test and see.
+ */
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
 	.output_poll_changed = drm_fb_helper_output_poll_changed,
 #endif
 	.atomic_check = tegra_atomic_check,
@@ -886,7 +890,16 @@ static const struct drm_driver tegra_drm_driver = {
 			   DRIVER_ATOMIC | DRIVER_RENDER | DRIVER_SYNCOBJ,
 	.open = tegra_drm_open,
 	.postclose = tegra_drm_postclose,
+/*
+ * TODO 6.12
+ * Not confident about "fix". Hopufully drm_lastclose()
+ * executes drm_fb_helper_lastclose() functionality.
+ * Let's test and see..
+ */
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
 	.lastclose = drm_fb_helper_lastclose,
+#endif
+
 
 #if defined(CONFIG_DEBUG_FS)
 	.debugfs_init = tegra_debugfs_init,
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/dsi.c b/nvidia-oot/drivers/gpu/drm/tegra/dsi.c
index 1e4f092..c19d760 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/dsi.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/dsi.c
@@ -1692,11 +1692,23 @@ static const struct of_device_id tegra_dsi_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_dsi_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_dsi_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_dsi_remove(pdev);
+}
+#else
+static inline int tegra_dsi_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_dsi_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_dsi_driver = {
 	.driver = {
 		.name = "tegra-dsi",
 		.of_match_table = tegra_dsi_of_match,
 	},
 	.probe = tegra_dsi_probe,
-	.remove = tegra_dsi_remove,
+	.remove = tegra_dsi_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/gr2d.c b/nvidia-oot/drivers/gpu/drm/tegra/gr2d.c
index a5131ea..d8029dd 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/gr2d.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/gr2d.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2012-2013, NVIDIA Corporation.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/delay.h>
@@ -392,6 +393,18 @@ static const struct dev_pm_ops tegra_gr2d_pm = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void gr2d_remove_wrapper(struct platform_device *pdev)
+{
+       gr2d_remove(pdev);
+}
+#else
+static inline int gr2d_remove_wrapper(struct platform_device *pdev)
+{
+       return gr2d_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_gr2d_driver = {
 	.driver = {
 		.name = "tegra-gr2d",
@@ -399,5 +412,5 @@ struct platform_driver tegra_gr2d_driver = {
 		.pm = &tegra_gr2d_pm,
 	},
 	.probe = gr2d_probe,
-	.remove = gr2d_remove,
+	.remove = gr2d_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/gr3d.c b/nvidia-oot/drivers/gpu/drm/tegra/gr3d.c
index d55158b..fb61ebd 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/gr3d.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/gr3d.c
@@ -3,6 +3,7 @@
  * Copyright (C) 2013 Avionic Design GmbH
  * Copyright (C) 2013 NVIDIA Corporation
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/delay.h>
@@ -631,6 +632,18 @@ static const struct dev_pm_ops tegra_gr3d_pm = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void gr3d_remove_wrapper(struct platform_device *pdev)
+{
+       gr3d_remove(pdev);
+}
+#else
+static inline int gr3d_remove_wrapper(struct platform_device *pdev)
+{
+       return gr3d_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_gr3d_driver = {
 	.driver = {
 		.name = "tegra-gr3d",
@@ -638,5 +651,5 @@ struct platform_driver tegra_gr3d_driver = {
 		.pm = &tegra_gr3d_pm,
 	},
 	.probe = gr3d_probe,
-	.remove = gr3d_remove,
+	.remove = gr3d_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/hdmi.c b/nvidia-oot/drivers/gpu/drm/tegra/hdmi.c
index 71362ec..aa65da6 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/hdmi.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/hdmi.c
@@ -1909,11 +1909,23 @@ static int tegra_hdmi_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_hdmi_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_hdmi_remove(pdev);
+}
+#else
+static inline int tegra_hdmi_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_hdmi_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_hdmi_driver = {
 	.driver = {
 		.name = "tegra-hdmi",
 		.of_match_table = tegra_hdmi_of_match,
 	},
 	.probe = tegra_hdmi_probe,
-	.remove = tegra_hdmi_remove,
+	.remove = tegra_hdmi_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/hub.c b/nvidia-oot/drivers/gpu/drm/tegra/hub.c
index 9ba941a..c925f61 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/hub.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/hub.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (C) 2017 NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/delay.h>
@@ -1215,11 +1216,23 @@ static const struct of_device_id tegra_display_hub_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_display_hub_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_display_hub_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_display_hub_remove(pdev);
+}
+#else
+static inline int tegra_display_hub_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_display_hub_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_display_hub_driver = {
 	.driver = {
 		.name = "tegra-display-hub",
 		.of_match_table = tegra_display_hub_of_match,
 	},
 	.probe = tegra_display_hub_probe,
-	.remove = tegra_display_hub_remove,
+	.remove = tegra_display_hub_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/nvdec.c b/nvidia-oot/drivers/gpu/drm/tegra/nvdec.c
index 15cd9e0..3bcb249 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/nvdec.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/nvdec.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (c) 2015-2024, NVIDIA CORPORATION & AFFILIATES. All Rights Reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/bitops.h>
 #include <linux/clk.h>
@@ -964,6 +965,18 @@ static const struct dev_pm_ops nvdec_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvdec_remove_wrapper(struct platform_device *pdev)
+{
+       nvdec_remove(pdev);
+}
+#else
+static inline int nvdec_remove_wrapper(struct platform_device *pdev)
+{
+       return nvdec_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_nvdec_driver = {
 	.driver = {
 		.name = "tegra-nvdec",
@@ -971,7 +984,7 @@ struct platform_driver tegra_nvdec_driver = {
 		.pm = &nvdec_pm_ops
 	},
 	.probe = nvdec_probe,
-	.remove = nvdec_remove,
+	.remove = nvdec_remove_wrapper,
 };
 
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_210_SOC)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/nvenc.c b/nvidia-oot/drivers/gpu/drm/tegra/nvenc.c
index a5605a7..c4ef882 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/nvenc.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/nvenc.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (c) 2021-2024, NVIDIA CORPORATION & AFFILIATES. All Rights Reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/bitops.h>
 #include <linux/clk.h>
@@ -757,6 +758,18 @@ static const struct dev_pm_ops nvenc_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvenc_remove_wrapper(struct platform_device *pdev)
+{
+       nvenc_remove(pdev);
+}
+#else
+static inline int nvenc_remove_wrapper(struct platform_device *pdev)
+{
+       return nvenc_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_nvenc_driver = {
 	.driver = {
 		.name = "tegra-nvenc",
@@ -764,7 +777,7 @@ struct platform_driver tegra_nvenc_driver = {
 		.pm = &nvenc_pm_ops
 	},
 	.probe = nvenc_probe,
-	.remove = nvenc_remove,
+	.remove = nvenc_remove_wrapper,
 };
 
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_210_SOC)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/nvjpg.c b/nvidia-oot/drivers/gpu/drm/tegra/nvjpg.c
index 4e9528c..91d128d 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/nvjpg.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/nvjpg.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (c) 2021-2024, NVIDIA CORPORATION & AFFILIATES. All Rights Reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/bitops.h>
 #include <linux/clk.h>
@@ -734,6 +735,18 @@ static const struct dev_pm_ops nvjpg_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvjpg_remove_wrapper(struct platform_device *pdev)
+{
+       nvjpg_remove(pdev);
+}
+#else
+static inline int nvjpg_remove_wrapper(struct platform_device *pdev)
+{
+       return nvjpg_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_nvjpg_driver = {
 	.driver = {
 		.name = "tegra-nvjpg",
@@ -741,7 +754,7 @@ struct platform_driver tegra_nvjpg_driver = {
 		.pm = &nvjpg_pm_ops
 	},
 	.probe = nvjpg_probe,
-	.remove = nvjpg_remove,
+	.remove = nvjpg_remove_wrapper,
 };
 
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_210_SOC)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/ofa.c b/nvidia-oot/drivers/gpu/drm/tegra/ofa.c
index 2ce0d14..e03f6ca 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/ofa.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/ofa.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (c) 2021-2023, NVIDIA Corporation.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/delay.h>
@@ -632,6 +633,18 @@ static const struct dev_pm_ops ofa_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void ofa_remove_wrapper(struct platform_device *pdev)
+{
+       ofa_remove(pdev);
+}
+#else
+static inline int ofa_remove_wrapper(struct platform_device *pdev)
+{
+       return ofa_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_ofa_driver = {
 	.driver = {
 		.name = "tegra-ofa",
@@ -639,7 +652,7 @@ struct platform_driver tegra_ofa_driver = {
 		.pm = &ofa_pm_ops
 	},
 	.probe = ofa_probe,
-	.remove = ofa_remove,
+	.remove = ofa_remove_wrapper,
 };
 
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_234_SOC)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/riscv.c b/nvidia-oot/drivers/gpu/drm/tegra/riscv.c
index cee9ba2..e4d4b68 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/riscv.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/riscv.c
@@ -3,7 +3,14 @@
  * Copyright (c) 2022, NVIDIA Corporation.
  */
 
+#include <linux/version.h>
+
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 12, 0)
+#include <linux/unaligned.h>
+#else
 #include <asm/unaligned.h>
+#endif
+
 
 #include <linux/dev_printk.h>
 #include <linux/device.h>
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/sor.c b/nvidia-oot/drivers/gpu/drm/tegra/sor.c
index 9947d44..6ea962d 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/sor.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/sor.c
@@ -4082,6 +4082,18 @@ static const struct dev_pm_ops tegra_sor_pm_ops = {
 	SET_SYSTEM_SLEEP_PM_OPS(tegra_sor_suspend, tegra_sor_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_sor_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_sor_remove(pdev);
+}
+#else
+static inline int tegra_sor_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_sor_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_sor_driver = {
 	.driver = {
 		.name = "tegra-sor",
@@ -4089,5 +4101,5 @@ struct platform_driver tegra_sor_driver = {
 		.pm = &tegra_sor_pm_ops,
 	},
 	.probe = tegra_sor_probe,
-	.remove = tegra_sor_remove,
+	.remove = tegra_sor_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/vic.c b/nvidia-oot/drivers/gpu/drm/tegra/vic.c
index ada3dcd..5d95736 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/vic.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/vic.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (C) 2015-2024 NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/bitops.h>
 #include <linux/clk.h>
@@ -831,6 +832,18 @@ static const struct dev_pm_ops vic_pm_ops = {
 #endif
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void vic_remove_wrapper(struct platform_device *pdev)
+{
+       vic_remove(pdev);
+}
+#else
+static inline int vic_remove_wrapper(struct platform_device *pdev)
+{
+       return vic_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_vic_driver = {
 	.driver = {
 		.name = "tegra-vic",
@@ -838,7 +851,7 @@ struct platform_driver tegra_vic_driver = {
 		.pm = &vic_pm_ops
 	},
 	.probe = vic_probe,
-	.remove = vic_remove,
+	.remove = vic_remove_wrapper,
 };
 
 #if IS_ENABLED(CONFIG_ARCH_TEGRA_124_SOC)
diff --git a/nvidia-oot/drivers/gpu/drm/tegra/virt.c b/nvidia-oot/drivers/gpu/drm/tegra/virt.c
index af5580c..44c81d9 100644
--- a/nvidia-oot/drivers/gpu/drm/tegra/virt.c
+++ b/nvidia-oot/drivers/gpu/drm/tegra/virt.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2023, NVIDIA Corporation.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/debugfs.h>
@@ -563,6 +564,18 @@ static const struct dev_pm_ops virt_engine_pm_ops = {
 #endif
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void virt_engine_remove_wrapper(struct platform_device *pdev)
+{
+       virt_engine_remove(pdev);
+}
+#else
+static inline int virt_engine_remove_wrapper(struct platform_device *pdev)
+{
+       return virt_engine_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_virt_engine_driver = {
 	.driver = {
 		.name = "tegra-host1x-virtual-engine",
@@ -570,5 +583,5 @@ struct platform_driver tegra_virt_engine_driver = {
 		.pm = &virt_engine_pm_ops,
 	},
 	.probe = virt_engine_probe,
-	.remove = virt_engine_remove,
+	.remove = virt_engine_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/gpu/host1x/dev.c b/nvidia-oot/drivers/gpu/host1x/dev.c
index 8919d73..e6fb97c 100644
--- a/nvidia-oot/drivers/gpu/host1x/dev.c
+++ b/nvidia-oot/drivers/gpu/host1x/dev.c
@@ -1102,6 +1102,18 @@ static const struct dev_pm_ops host1x_pm_ops = {
 	SET_SYSTEM_SLEEP_PM_OPS(host1x_runtime_suspend, host1x_runtime_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void host1x_remove_wrapper(struct platform_device *pdev)
+{
+        host1x_remove(pdev);
+}
+#else
+static inline int host1x_remove_wrapper(struct platform_device *pdev)
+{
+        return host1x_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_host1x_driver = {
 	.driver = {
 		.name = "tegra-host1x",
@@ -1109,7 +1121,7 @@ static struct platform_driver tegra_host1x_driver = {
 		.pm = &host1x_pm_ops,
 	},
 	.probe = host1x_probe,
-	.remove = host1x_remove,
+	.remove = host1x_remove_wrapper,
 };
 
 static struct platform_driver * const drivers[] = {
diff --git a/nvidia-oot/drivers/gpu/host1x/mipi.c b/nvidia-oot/drivers/gpu/host1x/mipi.c
index 614733c..517fbae 100644
--- a/nvidia-oot/drivers/gpu/host1x/mipi.c
+++ b/nvidia-oot/drivers/gpu/host1x/mipi.c
@@ -19,6 +19,7 @@
  * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
  * OF THIS SOFTWARE.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/host1x-next.h>
@@ -546,11 +547,23 @@ static int tegra_mipi_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_mipi_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_mipi_remove(pdev);
+}
+#else
+static inline int tegra_mipi_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_mipi_remove(pdev);
+}
+#endif
+
 struct platform_driver tegra_mipi_driver = {
 	.driver = {
 		.name = "tegra-mipi",
 		.of_match_table = tegra_mipi_of_match,
 	},
 	.probe = tegra_mipi_probe,
-	.remove = tegra_mipi_remove,
+	.remove = tegra_mipi_remove_wrapper,
 };
diff --git a/nvidia-oot/drivers/media/platform/tegra/cam_fsync/cam_fsync.c b/nvidia-oot/drivers/media/platform/tegra/cam_fsync/cam_fsync.c
index a179db8..9971188 100644
--- a/nvidia-oot/drivers/media/platform/tegra/cam_fsync/cam_fsync.c
+++ b/nvidia-oot/drivers/media/platform/tegra/cam_fsync/cam_fsync.c
@@ -1125,6 +1125,18 @@ MODULE_DEVICE_TABLE(of, cam_fsync_of_match);
 
 static SIMPLE_DEV_PM_OPS(cam_fsync_pm, cam_fsync_suspend, cam_fsync_resume);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void cam_fsync_remove_wrapper(struct platform_device *pdev)
+{
+        cam_fsync_remove(pdev);
+}
+#else
+static inline int cam_fsync_remove_wrapper(struct platform_device *pdev)
+{
+        return cam_fsync_remove(pdev);
+}
+#endif
+
 static struct platform_driver cam_fsync_driver = {
 	.driver = {
 		.name = "cam_fsync",
@@ -1133,7 +1145,7 @@ static struct platform_driver cam_fsync_driver = {
 		.pm = &cam_fsync_pm,
 	},
 	.probe = cam_fsync_probe,
-	.remove = cam_fsync_remove,
+	.remove = cam_fsync_remove_wrapper,
 };
 module_platform_driver(cam_fsync_driver);
 
diff --git a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-isp-channel.c b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-isp-channel.c
index b6ef7b5..6d91810 100644
--- a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-isp-channel.c
+++ b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-isp-channel.c
@@ -20,6 +20,7 @@
 #include <linux/slab.h>
 #include <linux/stddef.h>
 #include <linux/uaccess.h>
+#include <linux/version.h>
 #include <media/fusa-capture/capture-isp.h>
 #include <media/fusa-capture/capture-isp-channel.h>
 
@@ -523,7 +524,9 @@ static long isp_channel_ioctl(
 
 static const struct file_operations isp_channel_fops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = isp_channel_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = isp_channel_ioctl,
diff --git a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi-channel.c b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi-channel.c
index 0ab7be1..f6269e4 100644
--- a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi-channel.c
+++ b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi-channel.c
@@ -616,7 +616,9 @@ static long vi_channel_ioctl(
 
 static const struct file_operations vi_channel_fops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = vi_channel_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = vi_channel_ioctl,
diff --git a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi.c b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi.c
index 753d6cc..8d80802 100644
--- a/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi.c
+++ b/nvidia-oot/drivers/media/platform/tegra/camera/fusa-capture/capture-vi.c
@@ -18,6 +18,7 @@
  *
  * @brief VI channel operations for the T234 Camera RTCPU platform.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/completion.h>
 #include <linux/nospec.h>
@@ -1726,9 +1727,21 @@ static const struct of_device_id capture_vi_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, capture_vi_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void capture_vi_remove_wrapper(struct platform_device *pdev)
+{
+        capture_vi_remove(pdev);
+}
+#else
+static inline int capture_vi_remove_wrapper(struct platform_device *pdev)
+{
+        return capture_vi_remove(pdev);
+}
+#endif
+
 static struct platform_driver capture_vi_driver = {
 	.probe = capture_vi_probe,
-	.remove = capture_vi_remove,
+	.remove = capture_vi_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "tegra-camrtc-capture-vi",
diff --git a/nvidia-oot/drivers/media/platform/tegra/cdi/cam_cdi_tsc.c b/nvidia-oot/drivers/media/platform/tegra/cdi/cam_cdi_tsc.c
index b2ab11f..fe5fc99 100644
--- a/nvidia-oot/drivers/media/platform/tegra/cdi/cam_cdi_tsc.c
+++ b/nvidia-oot/drivers/media/platform/tegra/cdi/cam_cdi_tsc.c
@@ -645,6 +645,18 @@ MODULE_DEVICE_TABLE(of, cdi_tsc_of_match);
 
 static SIMPLE_DEV_PM_OPS(cdi_tsc_pm, cdi_tsc_suspend, cdi_tsc_resume);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void cdi_tsc_remove_wrapper(struct platform_device *pdev)
+{
+        cdi_tsc_remove(pdev);
+}
+#else
+static inline int cdi_tsc_remove_wrapper(struct platform_device *pdev)
+{
+        return cdi_tsc_remove(pdev);
+}
+#endif
+
 static struct platform_driver cdi_tsc_driver = {
 	.driver = {
 		.name = "cdi_tsc",
@@ -653,7 +665,7 @@ static struct platform_driver cdi_tsc_driver = {
 		.pm = &cdi_tsc_pm,
 	},
 	.probe = cdi_tsc_probe,
-	.remove = cdi_tsc_remove,
+	.remove = cdi_tsc_remove_wrapper,
 };
 module_platform_driver(cdi_tsc_driver);
 
diff --git a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_gpio.c b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_gpio.c
index 6f3959e..a6adced 100644
--- a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_gpio.c
+++ b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_gpio.c
@@ -330,9 +330,21 @@ static const struct of_device_id cdi_gpio_dt_ids[] = {
 };
 MODULE_DEVICE_TABLE(of, cdi_gpio_dt_ids);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void cdi_gpio_remove_wrapper(struct platform_device *pdev)
+{
+        cdi_gpio_remove(pdev);
+}
+#else
+static inline int cdi_gpio_remove_wrapper(struct platform_device *pdev)
+{
+        return cdi_gpio_remove(pdev);
+}
+#endif
+
 static struct platform_driver cdi_gpio_driver = {
 	.probe = cdi_gpio_probe,
-	.remove = cdi_gpio_remove,
+	.remove = cdi_gpio_remove_wrapper,
 	.driver = {
 		.name = "cdi-gpio",
 		.of_match_table = cdi_gpio_dt_ids,
diff --git a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_mgr.c b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_mgr.c
index 78069c2..4c6840c 100644
--- a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_mgr.c
+++ b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_mgr.c
@@ -2084,6 +2084,18 @@ static const struct of_device_id cdi_mgr_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, cdi_mgr_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void cdi_mgr_remove_wrapper(struct platform_device *pdev)
+{
+        cdi_mgr_remove(pdev);
+}
+#else
+static inline int cdi_mgr_remove_wrapper(struct platform_device *pdev)
+{
+        return cdi_mgr_remove(pdev);
+}
+#endif
+
 static struct platform_driver cdi_mgr_driver = {
 	.driver = {
 		.name = "cdi-mgr",
@@ -2092,7 +2104,7 @@ static struct platform_driver cdi_mgr_driver = {
 		.pm = &cdi_mgr_pm_ops,
 	},
 	.probe = cdi_mgr_probe,
-	.remove = cdi_mgr_remove,
+	.remove = cdi_mgr_remove_wrapper,
 };
 
 module_platform_driver(cdi_mgr_driver);
diff --git a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_pwm.c b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_pwm.c
index 08157ff..3f866c8 100644
--- a/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_pwm.c
+++ b/nvidia-oot/drivers/media/platform/tegra/cdi/cdi_pwm.c
@@ -254,6 +254,18 @@ static const struct dev_pm_ops cdi_pwm_pm_ops = {
 	.runtime_resume = cdi_pwm_resume,
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void cdi_pwm_remove_wrapper(struct platform_device *pdev)
+{
+        cdi_pwm_remove(pdev);
+}
+#else
+static inline int cdi_pwm_remove_wrapper(struct platform_device *pdev)
+{
+        return cdi_pwm_remove(pdev);
+}
+#endif
+
 static struct platform_driver cdi_pwm_driver = {
 	.driver = {
 		.name = "cdi-pwm",
@@ -262,7 +274,7 @@ static struct platform_driver cdi_pwm_driver = {
 		.pm = &cdi_pwm_pm_ops,
 	},
 	.probe = cdi_pwm_probe,
-	.remove = cdi_pwm_remove,
+	.remove = cdi_pwm_remove_wrapper,
 };
 
 module_platform_driver(cdi_pwm_driver);
diff --git a/nvidia-oot/drivers/media/platform/tegra/isc/isc_gpio.c b/nvidia-oot/drivers/media/platform/tegra/isc/isc_gpio.c
index c1eca45..f425555 100644
--- a/nvidia-oot/drivers/media/platform/tegra/isc/isc_gpio.c
+++ b/nvidia-oot/drivers/media/platform/tegra/isc/isc_gpio.c
@@ -330,9 +330,21 @@ static const struct of_device_id isc_gpio_dt_ids[] = {
 };
 MODULE_DEVICE_TABLE(of, isc_gpio_dt_ids);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void isc_gpio_remove_wrapper(struct platform_device *pdev)
+{
+        isc_gpio_remove(pdev);
+}
+#else
+static inline int isc_gpio_remove_wrapper(struct platform_device *pdev)
+{
+        return isc_gpio_remove(pdev);
+}
+#endif
+
 static struct platform_driver isc_gpio_driver = {
 	.probe = isc_gpio_probe,
-	.remove = isc_gpio_remove,
+	.remove = isc_gpio_remove_wrapper,
 	.driver = {
 		.name = "isc-gpio",
 		.of_match_table = isc_gpio_dt_ids,
diff --git a/nvidia-oot/drivers/media/platform/tegra/isc/isc_mgr.c b/nvidia-oot/drivers/media/platform/tegra/isc/isc_mgr.c
index 92bd05f..56ab468 100644
--- a/nvidia-oot/drivers/media/platform/tegra/isc/isc_mgr.c
+++ b/nvidia-oot/drivers/media/platform/tegra/isc/isc_mgr.c
@@ -1204,6 +1204,18 @@ static const struct of_device_id isc_mgr_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, isc_mgr_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void isc_mgr_remove_wrapper(struct platform_device *pdev)
+{
+        isc_mgr_remove(pdev);
+}
+#else
+static inline int isc_mgr_remove_wrapper(struct platform_device *pdev)
+{
+        return isc_mgr_remove(pdev);
+}
+#endif
+
 static struct platform_driver isc_mgr_driver = {
 	.driver = {
 		.name = "isc-mgr",
@@ -1212,7 +1224,7 @@ static struct platform_driver isc_mgr_driver = {
 		.pm = &isc_mgr_pm_ops,
 	},
 	.probe = isc_mgr_probe,
-	.remove = isc_mgr_remove,
+	.remove = isc_mgr_remove_wrapper,
 };
 
 module_platform_driver(isc_mgr_driver);
diff --git a/nvidia-oot/drivers/media/platform/tegra/isc/isc_pwm.c b/nvidia-oot/drivers/media/platform/tegra/isc/isc_pwm.c
index a75fb55..f2b82f1 100644
--- a/nvidia-oot/drivers/media/platform/tegra/isc/isc_pwm.c
+++ b/nvidia-oot/drivers/media/platform/tegra/isc/isc_pwm.c
@@ -254,6 +254,18 @@ static const struct dev_pm_ops isc_pwm_pm_ops = {
 	.runtime_resume = isc_pwm_resume,
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void isc_pwm_remove_wrapper(struct platform_device *pdev)
+{
+        isc_pwm_remove(pdev);
+}
+#else
+static inline int isc_pwm_remove_wrapper(struct platform_device *pdev)
+{
+        return isc_pwm_remove(pdev);
+}
+#endif
+
 static struct platform_driver isc_pwm_driver = {
 	.driver = {
 		.name = "isc-pwm",
@@ -262,7 +274,7 @@ static struct platform_driver isc_pwm_driver = {
 		.pm = &isc_pwm_pm_ops,
 	},
 	.probe = isc_pwm_probe,
-	.remove = isc_pwm_remove,
+	.remove = isc_pwm_remove_wrapper,
 };
 
 module_platform_driver(isc_pwm_driver);
diff --git a/nvidia-oot/drivers/misc/bluedroid_pm.c b/nvidia-oot/drivers/misc/bluedroid_pm.c
index 639744c..7cc0d1e 100644
--- a/nvidia-oot/drivers/misc/bluedroid_pm.c
+++ b/nvidia-oot/drivers/misc/bluedroid_pm.c
@@ -3,8 +3,6 @@
 
 #include <nvidia/conftest.h>
 
-#include <nvidia/conftest.h>
-
 #include <linux/uaccess.h>
 #include <linux/module.h>
 #include <linux/proc_fs.h>
@@ -627,9 +625,21 @@ static struct of_device_id bdroid_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, bdroid_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void bluedroid_pm_remove_wrapper(struct platform_device *pdev)
+{
+       bluedroid_pm_remove(pdev);
+}
+#else
+static inline int bluedroid_pm_remove_wrapper(struct platform_device *pdev)
+{
+       return bluedroid_pm_remove(pdev);
+}
+#endif
+
 static struct platform_driver bluedroid_pm_driver = {
 	.probe = bluedroid_pm_probe,
-	.remove = bluedroid_pm_remove,
+	.remove = bluedroid_pm_remove_wrapper,
 	.suspend = bluedroid_pm_suspend,
 	.resume = bluedroid_pm_resume,
 	.shutdown = bluedroid_pm_shutdown,
diff --git a/nvidia-oot/drivers/misc/nvscic2c-pcie/epf/module.c b/nvidia-oot/drivers/misc/nvscic2c-pcie/epf/module.c
index afd0eec..049d250 100644
--- a/nvidia-oot/drivers/misc/nvscic2c-pcie/epf/module.c
+++ b/nvidia-oot/drivers/misc/nvscic2c-pcie/epf/module.c
@@ -17,6 +17,8 @@
 #include <linux/tegra-pcie-edma.h>
 #include <linux/types.h>
 
+#include <linux/version.h>
+
 #include "comm-channel.h"
 #include "common.h"
 #include "endpoint.h"
@@ -734,10 +736,18 @@ get_driverdata(const struct pci_epf_device_id *id,
 }
 
 static const struct pci_epc_event_ops nvscic2c_event_ops = {
-	.core_init = nvscic2c_pcie_epf_core_init,
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+     .epc_init = nvscic2c_pcie_epf_core_init,
+#else
+	 .core_init = nvscic2c_pcie_epf_core_init,
+#endif
 #if defined(NV_PCI_EPC_EVENT_OPS_STRUCT_HAS_CORE_DEINIT) /* Nvidia Internal */
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+	 .epc_deinit = nvscic2c_pcie_epf_core_deinit,
+#else
 	.core_deinit = nvscic2c_pcie_epf_core_deinit,
 #endif
+#endif
 };
 
 static int
diff --git a/nvidia-oot/drivers/misc/nvsciipc/nvsciipc.c b/nvidia-oot/drivers/misc/nvsciipc/nvsciipc.c
index b055f47..29ddd7d 100644
--- a/nvidia-oot/drivers/misc/nvsciipc/nvsciipc.c
+++ b/nvidia-oot/drivers/misc/nvsciipc/nvsciipc.c
@@ -24,6 +24,7 @@
 #include <linux/cred.h>
 #include <linux/of.h>
 #include <linux/fs.h>
+#include <linux/version.h>
 
 #ifdef CONFIG_TEGRA_VIRTUALIZATION
 #include <soc/tegra/virt/syscalls.h>
@@ -84,11 +85,11 @@ NvSciError NvSciIpcEndpointValidateAuthTokenLinuxCurrent(
 	}
 
 	f = fdget((int)authToken);
-	if (!f.file) {
-		ERR("invalid auth token\n");
-		return NvSciError_BadParameter;
+	if (!fd_file(f)) {
+	     ERR("invalid auth token\n");
+	     return NvSciError_BadParameter;
 	}
-	filp = f.file;
+	filp = fd_file(f);
 
 	devlen = strlen(filp->f_path.dentry->d_name.name);
 #if DEBUG_VALIDATE_TOKEN
@@ -678,7 +679,9 @@ static const struct file_operations nvsciipc_fops = {
 	.open		= nvsciipc_dev_open,
 	.release		= nvsciipc_dev_release,
 	.unlocked_ioctl	= nvsciipc_dev_ioctl,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
 	.llseek		= no_llseek,
+#endif
 	.read		= nvsciipc_dbg_read,
 };
 
@@ -822,9 +825,21 @@ exit:
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvsciipc_remove_wrapper(struct platform_device *pdev)
+{
+       nvsciipc_remove(pdev);
+}
+#else
+static inline int nvsciipc_remove_wrapper(struct platform_device *pdev)
+{
+       return nvsciipc_remove(pdev);
+}
+#endif
+
 static struct platform_driver nvsciipc_driver = {
 	.probe  = nvsciipc_probe,
-	.remove = nvsciipc_remove,
+	.remove = nvsciipc_remove_wrapper,
 	.driver = {
 		.name = MODULE_NAME,
 	},
diff --git a/nvidia-oot/drivers/mtd/devices/tegra_hv_mtd.c b/nvidia-oot/drivers/mtd/devices/tegra_hv_mtd.c
index 1b6acf9..01e82a2 100644
--- a/nvidia-oot/drivers/mtd/devices/tegra_hv_mtd.c
+++ b/nvidia-oot/drivers/mtd/devices/tegra_hv_mtd.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/module.h>
 #include <linux/moduleparam.h>
@@ -726,9 +727,21 @@ static struct of_device_id tegra_virt_mtd_match[] = {
 MODULE_DEVICE_TABLE(of, tegra_virt_mtd_match);
 #endif /* CONFIG_OF */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_virt_mtd_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_virt_mtd_remove(pdev);
+}
+#else
+static inline int tegra_virt_mtd_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_virt_mtd_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_virt_mtd_driver = {
 	.probe	= tegra_virt_mtd_probe,
-	.remove	= tegra_virt_mtd_remove,
+	.remove	= tegra_virt_mtd_remove_wrapper,
 	.driver	= {
 		.name = "Virtual MTD device",
 		.owner = THIS_MODULE,
diff --git a/nvidia-oot/drivers/net/can/mttcan/native/m_ttcan_linux.c b/nvidia-oot/drivers/net/can/mttcan/native/m_ttcan_linux.c
index 6f02721..fd10ad6 100644
--- a/nvidia-oot/drivers/net/can/mttcan/native/m_ttcan_linux.c
+++ b/nvidia-oot/drivers/net/can/mttcan/native/m_ttcan_linux.c
@@ -2009,6 +2009,18 @@ static int mttcan_resume(struct platform_device *pdev)
 }
 #endif
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void mttcan_remove_wrapper(struct platform_device *pdev)
+{
+        mttcan_remove(pdev);
+}
+#else
+static inline int mttcan_remove_wrapper(struct platform_device *pdev)
+{
+        return mttcan_remove(pdev);
+}
+#endif
+
 static struct platform_driver mttcan_plat_driver = {
 	.driver = {
 		   .name = KBUILD_MODNAME,
@@ -2016,7 +2028,7 @@ static struct platform_driver mttcan_plat_driver = {
 		   .of_match_table = of_match_ptr(mttcan_of_table),
 		   },
 	.probe = mttcan_probe,
-	.remove = mttcan_remove,
+	.remove = mttcan_remove_wrapper,
 #ifdef CONFIG_PM
 	.suspend = mttcan_suspend,
 	.resume = mttcan_resume,
diff --git a/nvidia-oot/drivers/net/ethernet/nvidia/nvethernet/ether_linux.c b/nvidia-oot/drivers/net/ethernet/nvidia/nvethernet/ether_linux.c
index 346cb72..3588a9a 100644
--- a/nvidia-oot/drivers/net/ethernet/nvidia/nvethernet/ether_linux.c
+++ b/nvidia-oot/drivers/net/ethernet/nvidia/nvethernet/ether_linux.c
@@ -7048,12 +7048,24 @@ static const struct of_device_id ether_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, ether_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void ether_remove_wrapper(struct platform_device *pdev)
+{
+        ether_remove(pdev);
+}
+#else
+static inline int ether_remove_wrapper(struct platform_device *pdev)
+{
+        return ether_remove(pdev);
+}
+#endif
+
 /**
  * @brief Ethernet platform driver instance
  */
 static struct platform_driver ether_driver = {
 	.probe = ether_probe,
-	.remove = ether_remove,
+	.remove = ether_remove_wrapper,
 	.shutdown = ether_shutdown,
 	.driver = {
 		.name = "nvethernet",
diff --git a/nvidia-oot/drivers/nvpmodel/nvpmodel-clk-cap.c b/nvidia-oot/drivers/nvpmodel/nvpmodel-clk-cap.c
index 955fa49..3cf5712 100644
--- a/nvidia-oot/drivers/nvpmodel/nvpmodel-clk-cap.c
+++ b/nvidia-oot/drivers/nvpmodel/nvpmodel-clk-cap.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // Copyright (c) 2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/kobject.h>
@@ -263,9 +264,21 @@ static int nvpmodel_clk_cap_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvpmodel_clk_cap_remove_wrapper(struct platform_device *pdev)
+{
+       nvpmodel_clk_cap_remove(pdev);
+}
+#else
+static inline int nvpmodel_clk_cap_remove_wrapper(struct platform_device *pdev)
+{
+       return nvpmodel_clk_cap_remove(pdev);
+}
+#endif
+
 static struct platform_driver nvpmodel_clk_cap_driver = {
 	.probe = nvpmodel_clk_cap_probe,
-	.remove = nvpmodel_clk_cap_remove,
+	.remove = nvpmodel_clk_cap_remove_wrapper,
 	.driver = {
 		.name = "nvpmodel-clk-cap",
 		.of_match_table = of_nvpmodel_clk_cap_match,
diff --git a/nvidia-oot/drivers/nvpps/nvpps_main.c b/nvidia-oot/drivers/nvpps/nvpps_main.c
index 0ae0000..d257897 100644
--- a/nvidia-oot/drivers/nvpps/nvpps_main.c
+++ b/nvidia-oot/drivers/nvpps/nvpps_main.c
@@ -1188,6 +1188,17 @@ static const struct of_device_id nvpps_of_table[] = {
 MODULE_DEVICE_TABLE(of, nvpps_of_table);
 #endif /* !NVPPS_NO_DT */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvpps_remove_wrapper(struct platform_device *pdev)
+{
+       nvpps_remove(pdev);
+}
+#else
+static inline int nvpps_remove_wrapper(struct platform_device *pdev)
+{
+       return nvpps_remove(pdev);
+}
+#endif
 
 static struct platform_driver nvpps_plat_driver = {
 	.driver = {
@@ -1198,7 +1209,7 @@ static struct platform_driver nvpps_plat_driver = {
 #endif /* !NVPPS_NO_DT */
 	},
 	.probe = nvpps_probe,
-	.remove = nvpps_remove,
+	.remove = nvpps_remove_wrapper,
 #ifdef CONFIG_PM
 	.suspend = nvpps_suspend,
 	.resume = nvpps_resume,
diff --git a/nvidia-oot/drivers/pci/controller/pcie-tegra-vf.c b/nvidia-oot/drivers/pci/controller/pcie-tegra-vf.c
index 13cacf3..449a839 100644
--- a/nvidia-oot/drivers/pci/controller/pcie-tegra-vf.c
+++ b/nvidia-oot/drivers/pci/controller/pcie-tegra-vf.c
@@ -5,6 +5,7 @@
  * Copyright (C) 2021-2022, NVIDIA Corporation. All rights reserved.
  *
  */
+#include <nvidia/conftest.h>
 
 #include <linux/kernel.h>
 #include <linux/init.h>
@@ -142,13 +143,25 @@ static const struct of_device_id pci_tegra_vf_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, pci_tegra_vf_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void pci_tegra_vf_remove_wrapper(struct platform_device *pdev)
+{
+       pci_tegra_vf_remove(pdev);
+}
+#else
+static inline int pci_tegra_vf_remove_wrapper(struct platform_device *pdev)
+{
+       return pci_tegra_vf_remove(pdev);
+}
+#endif
+
 static struct platform_driver pci_tegra_vf_driver = {
 	.driver = {
 		.name = "pcie-tegra-vf",
 		.of_match_table = pci_tegra_vf_of_match,
 	},
 	.probe = pci_tegra_vf_probe,
-	.remove = pci_tegra_vf_remove,
+	.remove = pci_tegra_vf_remove_wrapper,
 };
 module_platform_driver(pci_tegra_vf_driver);
 
diff --git a/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-dma-test.c b/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-dma-test.c
index ee0c8bd..bbc0134 100644
--- a/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-dma-test.c
+++ b/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-dma-test.c
@@ -19,6 +19,7 @@
 #include <linux/platform_device.h>
 #include <linux/kthread.h>
 #include <linux/tegra-pcie-edma-test-common.h>
+#include <linux/version.h>
 #include "pci-epf-wrapper.h"
 
 static struct pcie_epf_dma *gepfnv;
@@ -283,10 +284,18 @@ static const struct pci_epf_device_id pcie_dma_epf_ids[] = {
 };
 
 static const struct pci_epc_event_ops pci_epf_dma_test_event_ops = {
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+	.epc_init = pcie_dma_epf_core_init,
+#else
 	.core_init = pcie_dma_epf_core_init,
+#endif
 #if defined(NV_PCI_EPC_EVENT_OPS_STRUCT_HAS_CORE_DEINIT) /* Nvidia Internal */
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+	.epc_deinit = pcie_dma_epf_core_deinit,
+#else
 	.core_deinit = pcie_dma_epf_core_deinit,
 #endif
+#endif
 };
 
 #if defined(NV_PCI_EPF_DRIVER_STRUCT_PROBE_HAS_ID_ARG) /* Linux 6.4 */
diff --git a/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-tegra-vnet.c b/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-tegra-vnet.c
index 5211931..1bcb35d 100644
--- a/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-tegra-vnet.c
+++ b/nvidia-oot/drivers/pci/endpoint/functions/pci-epf-tegra-vnet.c
@@ -1650,9 +1650,17 @@ static int tvnet_ep_pci_epf_core_deinit(struct pci_epf *epf)
 #endif
 
 static const struct pci_epc_event_ops tvnet_event_ops = {
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+	.epc_init = tvnet_ep_pci_epf_core_init,
+#else
 	.core_init = tvnet_ep_pci_epf_core_init,
+#endif
 #if defined(NV_PCI_EPC_EVENT_OPS_STRUCT_HAS_CORE_DEINIT)
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(6, 11, 0)
+	.epc_deinit = tvnet_ep_pci_epf_core_deinit,
+#else
 	.core_deinit = tvnet_ep_pci_epf_core_deinit,
+#endif
 #endif
 	.link_up = tvnet_ep_pci_epf_linkup,
 };
diff --git a/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-ivc-echo.c b/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-ivc-echo.c
index f6d20ea..033360f 100644
--- a/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-ivc-echo.c
+++ b/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-ivc-echo.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // SPDX-FileCopyrightText: Copyright (c) 2017-2023, NVIDIA CORPORATION & AFFILIATES.  All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/device.h>
 #include <linux/mailbox_client.h>
@@ -112,9 +113,21 @@ static const struct of_device_id tegra_aon_ivc_echo_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_aon_ivc_echo_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_aon_ivc_echo_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_aon_ivc_echo_remove(pdev);
+}
+#else
+static inline int tegra_aon_ivc_echo_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_aon_ivc_echo_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_aon_ivc_echo_driver = {
 	.probe = tegra_aon_ivc_echo_probe,
-	.remove = tegra_aon_ivc_echo_remove,
+	.remove = tegra_aon_ivc_echo_remove_wrapper,
 	.driver = {
 		.name = "tegra-aon-ivc-echo",
 		.of_match_table = tegra_aon_ivc_echo_match,
diff --git a/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-module.c b/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-module.c
index e44d16d..87e070e 100644
--- a/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-module.c
+++ b/nvidia-oot/drivers/platform/tegra/aon/tegra-aon-module.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2020-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/device.h>
 #include <linux/kernel.h>
@@ -161,13 +162,25 @@ static const struct of_device_id tegra_aon_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_aon_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_aon_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_aon_remove(pdev);
+}
+#else
+static inline int tegra_aon_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_aon_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra234_aon_driver = {
 	.driver = {
 		.name	= "tegra234-aon",
 		.of_match_table = tegra_aon_of_match,
 	},
 	.probe = tegra_aon_probe,
-	.remove = tegra_aon_remove,
+	.remove = tegra_aon_remove_wrapper,
 };
 module_platform_driver(tegra234_aon_driver);
 
diff --git a/nvidia-oot/drivers/platform/tegra/dce/dce-module.c b/nvidia-oot/drivers/platform/tegra/dce/dce-module.c
index 6a538d3..4c69676 100644
--- a/nvidia-oot/drivers/platform/tegra/dce/dce-module.c
+++ b/nvidia-oot/drivers/platform/tegra/dce/dce-module.c
@@ -1,5 +1,6 @@
 // SPDX-FileCopyrightText: Copyright (c) 2019-2024 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
 // SPDX-License-Identifier: GPL-2.0-only
+#include <nvidia/conftest.h>
 
 #include <dce.h>
 #include <linux/module.h>
@@ -304,6 +305,18 @@ static const struct dev_pm_ops dce_pm_ops = {
 };
 #endif
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_dce_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_dce_remove(pdev);
+}
+#else
+static inline int tegra_dce_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_dce_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_dce_driver = {
 	.driver = {
 		.name   = "tegra-dce",
@@ -314,7 +327,7 @@ static struct platform_driver tegra_dce_driver = {
 #endif
 	},
 	.probe = tegra_dce_probe,
-	.remove = tegra_dce_remove,
+	.remove = tegra_dce_remove_wrapper,
 };
 module_platform_driver(tegra_dce_driver);
 
diff --git a/nvidia-oot/drivers/platform/tegra/mc-hwpm.c b/nvidia-oot/drivers/platform/tegra/mc-hwpm.c
index 217c416..7f39bde 100644
--- a/nvidia-oot/drivers/platform/tegra/mc-hwpm.c
+++ b/nvidia-oot/drivers/platform/tegra/mc-hwpm.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2022-2023, NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #define pr_fmt(fmt) "mc-hwpm: " fmt
 
@@ -145,6 +146,18 @@ static int tegra_mc_hwpm_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_mc_hwpm_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_mc_hwpm_remove(pdev);
+}
+#else
+static inline int tegra_mc_hwpm_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_mc_hwpm_remove(pdev);
+}
+#endif
+
 static struct platform_driver mc_hwpm_driver = {
 	.driver = {
 		.name	= "tegra-mc-hwpm",
@@ -153,7 +166,7 @@ static struct platform_driver mc_hwpm_driver = {
 	},
 
 	.probe		= tegra_mc_hwpm_hwpm_probe,
-	.remove		= tegra_mc_hwpm_remove,
+	.remove		= tegra_mc_hwpm_remove_wrapper,
 };
 
 static int __init tegra_mc_hwpm_init(void)
diff --git a/nvidia-oot/drivers/platform/tegra/mce/tegra23x-mce.c b/nvidia-oot/drivers/platform/tegra/mce/tegra23x-mce.c
index 29b838a..52eb21c 100644
--- a/nvidia-oot/drivers/platform/tegra/mce/tegra23x-mce.c
+++ b/nvidia-oot/drivers/platform/tegra/mce/tegra23x-mce.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2022-2024, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 //
 #include <linux/cpumask.h>
 #include <linux/delay.h>
@@ -580,9 +581,21 @@ static const struct of_device_id t23x_mce_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, t23x_mce_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void t23x_mce_remove_wrapper(struct platform_device *pdev)
+{
+       t23x_mce_remove(pdev);
+}
+#else
+static inline int t23x_mce_remove_wrapper(struct platform_device *pdev)
+{
+       return t23x_mce_remove(pdev);
+}
+#endif
+
 static struct platform_driver t23x_mce_driver = {
 	.probe = t23x_mce_probe,
-	.remove = t23x_mce_remove,
+	.remove = t23x_mce_remove_wrapper,
 	.driver = {
 		.owner  = THIS_MODULE,
 		.name = "t23x-mce",
diff --git a/nvidia-oot/drivers/platform/tegra/psc/tegra23x_psc_mailbox.c b/nvidia-oot/drivers/platform/tegra/psc/tegra23x_psc_mailbox.c
index f9375da..75f5667 100644
--- a/nvidia-oot/drivers/platform/tegra/psc/tegra23x_psc_mailbox.c
+++ b/nvidia-oot/drivers/platform/tegra/psc/tegra23x_psc_mailbox.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2020-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/acpi.h>
 #include <linux/module.h>
@@ -293,9 +294,21 @@ static const struct acpi_device_id tegra23x_psc_acpi_match[] = {
 MODULE_DEVICE_TABLE(acpi, tegra23x_psc_acpi_match);
 #endif
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra234_psc_remove_wrapper(struct platform_device *pdev)
+{
+       tegra234_psc_remove(pdev);
+}
+#else
+static inline int tegra234_psc_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra234_psc_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra234_psc_driver = {
 	.probe          = tegra234_psc_probe,
-	.remove         = tegra234_psc_remove,
+	.remove         = tegra234_psc_remove_wrapper,
 	.driver = {
 		.owner  = THIS_MODULE,
 		.name   = "tegra23x-psc",
diff --git a/nvidia-oot/drivers/platform/tegra/rtcpu/camchar.c b/nvidia-oot/drivers/platform/tegra/rtcpu/camchar.c
index c271f19..9516f5a 100644
--- a/nvidia-oot/drivers/platform/tegra/rtcpu/camchar.c
+++ b/nvidia-oot/drivers/platform/tegra/rtcpu/camchar.c
@@ -18,6 +18,7 @@
 #include <linux/sched/signal.h>
 #include <linux/slab.h>
 #include <linux/spinlock.h>
+#include <linux/version.h>
 #include <soc/tegra/ivc_ext.h>
 #include <linux/tegra-ivc-bus.h>
 #include <soc/tegra/ivc-priv.h>
@@ -226,7 +227,9 @@ static const struct file_operations tegra_camchar_fops = {
 	.release = tegra_camchar_release,
 	.unlocked_ioctl = tegra_camchar_ioctl,
 	.compat_ioctl = tegra_camchar_ioctl,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
 	.llseek = no_llseek,
+#endif
 };
 
 static int __init tegra_camchar_init(struct tegra_ivc_driver *drv)
diff --git a/nvidia-oot/drivers/platform/tegra/rtcpu/tegra-camera-rtcpu-base.c b/nvidia-oot/drivers/platform/tegra/rtcpu/tegra-camera-rtcpu-base.c
index 19c32f7..ad36330 100644
--- a/nvidia-oot/drivers/platform/tegra/rtcpu/tegra-camera-rtcpu-base.c
+++ b/nvidia-oot/drivers/platform/tegra/rtcpu/tegra-camera-rtcpu-base.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2022-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/tegra-camera-rtcpu.h>
 
@@ -966,6 +967,18 @@ static const struct dev_pm_ops tegra_cam_rtcpu_pm_ops = {
 	.runtime_idle = tegra_cam_rtcpu_runtime_idle,
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_cam_rtcpu_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_cam_rtcpu_remove(pdev);
+}
+#else
+static inline int tegra_cam_rtcpu_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_cam_rtcpu_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_cam_rtcpu_driver = {
 	.driver = {
 		.name	= "tegra186-cam-rtcpu",
@@ -976,7 +989,7 @@ static struct platform_driver tegra_cam_rtcpu_driver = {
 #endif
 	},
 	.probe = tegra_cam_rtcpu_probe,
-	.remove = tegra_cam_rtcpu_remove,
+	.remove = tegra_cam_rtcpu_remove_wrapper,
 	.shutdown = tegra_cam_rtcpu_shutdown,
 };
 module_platform_driver(tegra_cam_rtcpu_driver);
diff --git a/nvidia-oot/drivers/platform/tegra/tegra-cactmon-mc-all.c b/nvidia-oot/drivers/platform/tegra/tegra-cactmon-mc-all.c
index 49d50c1..d6906ad 100644
--- a/nvidia-oot/drivers/platform/tegra/tegra-cactmon-mc-all.c
+++ b/nvidia-oot/drivers/platform/tegra/tegra-cactmon-mc-all.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (C) 2023-2024 NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/debugfs.h>
@@ -138,9 +139,21 @@ static const struct of_device_id central_actmon_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, central_actmon_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void central_actmon_remove_wrapper(struct platform_device *pdev)
+{
+       central_actmon_remove(pdev);
+}
+#else
+static inline int central_actmon_remove_wrapper(struct platform_device *pdev)
+{
+       return central_actmon_remove(pdev);
+}
+#endif
+
 static struct platform_driver central_actmon_driver = {
 	.probe		= central_actmon_probe,
-	.remove		= central_actmon_remove,
+	.remove		= central_actmon_remove_wrapper,
 	.driver	= {
 		.name	= "tegra-cactmon-mc-all",
 		.owner	= THIS_MODULE,
diff --git a/nvidia-oot/drivers/platform/tegra/tegra-fsicom.c b/nvidia-oot/drivers/platform/tegra/tegra-fsicom.c
index 27ff34f..c573309 100644
--- a/nvidia-oot/drivers/platform/tegra/tegra-fsicom.c
+++ b/nvidia-oot/drivers/platform/tegra/tegra-fsicom.c
@@ -463,6 +463,18 @@ static int __maybe_unused fsicom_client_resume(struct device *dev)
 
 static SIMPLE_DEV_PM_OPS(fsicom_client_pm, fsicom_client_suspend, fsicom_client_resume);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void fsicom_client_remove_wrapper(struct platform_device *pdev)
+{
+       fsicom_client_remove(pdev);
+}
+#else
+static inline int fsicom_client_remove_wrapper(struct platform_device *pdev)
+{
+       return fsicom_client_remove(pdev);
+}
+#endif
+
 static struct platform_driver fsicom_client = {
 	.driver = {
 		.name   = "fsicom_client",
@@ -472,7 +484,7 @@ static struct platform_driver fsicom_client = {
 	},
 	.probe		= fsicom_client_probe,
 	.shutdown	= fsicom_client_shutdown,
-	.remove		= fsicom_client_remove,
+	.remove		= fsicom_client_remove_wrapper,
 };
 
 module_platform_driver(fsicom_client);
diff --git a/nvidia-oot/drivers/platform/tegra/tegra-uss-io-proxy.c b/nvidia-oot/drivers/platform/tegra/tegra-uss-io-proxy.c
index de61695..e0ecba1 100644
--- a/nvidia-oot/drivers/platform/tegra/tegra-uss-io-proxy.c
+++ b/nvidia-oot/drivers/platform/tegra/tegra-uss-io-proxy.c
@@ -4,6 +4,7 @@
  *
  * Copyright (c) 2021-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/kernel.h>
 #include <linux/compiler.h>
@@ -496,9 +497,21 @@ static int tegra_uss_io_proxy_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_uss_io_proxy_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_uss_io_proxy_remove(pdev);
+}
+#else
+static inline int tegra_uss_io_proxy_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_uss_io_proxy_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_uss_io_proxy_driver = {
 	.probe = tegra_uss_io_proxy_probe,
-	.remove = tegra_uss_io_proxy_remove,
+	.remove = tegra_uss_io_proxy_remove_wrapper,
 	.driver = {
 		.name	= "tegra-uss-io-proxy",
 		.owner	= THIS_MODULE,
diff --git a/nvidia-oot/drivers/platform/tegra/tegra_bootloader_debug.c b/nvidia-oot/drivers/platform/tegra/tegra_bootloader_debug.c
index 67d1609..0eecf74 100644
--- a/nvidia-oot/drivers/platform/tegra/tegra_bootloader_debug.c
+++ b/nvidia-oot/drivers/platform/tegra/tegra_bootloader_debug.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // SPDX-FileCopyrightText: Copyright (c) 2022-2023 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/init.h>
 #include <linux/module.h>
@@ -674,9 +675,21 @@ static const struct of_device_id tegra_bl_debug_of_match[] = {
 
 MODULE_DEVICE_TABLE(of, tegra_bl_debug_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_bl_debug_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_bl_debug_remove(pdev);
+}
+#else
+static inline int tegra_bl_debug_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_bl_debug_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_bl_debug_driver = {
 	.probe = tegra_bl_debug_probe,
-	.remove = tegra_bl_debug_remove,
+	.remove = tegra_bl_debug_remove_wrapper,
 	.driver = {
 		.name = "tegra_bl_debug",
 		.of_match_table = tegra_bl_debug_of_match,
diff --git a/nvidia-oot/drivers/platform/tegra/uncore_pmu/tegra23x_perf_uncore.c b/nvidia-oot/drivers/platform/tegra/uncore_pmu/tegra23x_perf_uncore.c
index 55e60f1..2050435 100644
--- a/nvidia-oot/drivers/platform/tegra/uncore_pmu/tegra23x_perf_uncore.c
+++ b/nvidia-oot/drivers/platform/tegra/uncore_pmu/tegra23x_perf_uncore.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2022, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/of.h>
 #include <linux/platform_device.h>
@@ -621,13 +622,25 @@ static const struct of_device_id scf_pmu_of_device_ids[] = {
 };
 MODULE_DEVICE_TABLE(of, scf_pmu_of_device_ids);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void scf_pmu_device_remove_wrapper(struct platform_device *pdev)
+{
+       scf_pmu_device_remove(pdev);
+}
+#else
+static inline int scf_pmu_device_remove_wrapper(struct platform_device *pdev)
+{
+       return scf_pmu_device_remove(pdev);
+}
+#endif
+
 static struct platform_driver scf_pmu_driver = {
 	.driver = {
 		.name = "scf-pmu-drv",
 		.of_match_table = scf_pmu_of_device_ids,
 	},
 	.probe = scf_pmu_device_probe,
-	.remove = scf_pmu_device_remove,
+	.remove = scf_pmu_device_remove_wrapper,
 };
 
 static int __init register_pmu_driver(void)
diff --git a/nvidia-oot/drivers/pwm/pwm-tegra-tachometer.c b/nvidia-oot/drivers/pwm/pwm-tegra-tachometer.c
index 5b2e2ae..53d2271 100644
--- a/nvidia-oot/drivers/pwm/pwm-tegra-tachometer.c
+++ b/nvidia-oot/drivers/pwm/pwm-tegra-tachometer.c
@@ -567,6 +567,18 @@ static const struct of_device_id pwm_tegra_tach_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, pwm_tegra_tach_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void pwm_tegra_tach_remove_wrapper(struct platform_device *pdev)
+{
+       pwm_tegra_tach_remove(pdev);
+}
+#else
+static inline int pwm_tegra_tach_remove_wrapper(struct platform_device *pdev)
+{
+       return pwm_tegra_tach_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_tach_driver = {
 	.driver = {
 		.name = "pwm-tegra-tachometer",
@@ -574,7 +586,7 @@ static struct platform_driver tegra_tach_driver = {
 		.pm = &pwm_tegra_tach_pm_ops,
 	},
 	.probe = pwm_tegra_tach_probe,
-	.remove = pwm_tegra_tach_remove,
+	.remove = pwm_tegra_tach_remove_wrapper,
 };
 
 module_platform_driver(tegra_tach_driver);
diff --git a/nvidia-oot/drivers/ras/arm64-ras.c b/nvidia-oot/drivers/ras/arm64-ras.c
index 28f4406..bf31735 100644
--- a/nvidia-oot/drivers/ras/arm64-ras.c
+++ b/nvidia-oot/drivers/ras/arm64-ras.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 // Copyright (c) 2022-2024, NVIDIA CORPORATION.  All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/module.h>
 #include <linux/interrupt.h>
@@ -489,9 +490,21 @@ static int ras_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void ras_remove_wrapper(struct platform_device *pdev)
+{
+       ras_remove(pdev);
+}
+#else
+static inline int ras_remove_wrapper(struct platform_device *pdev)
+{
+       return ras_remove(pdev);
+}
+#endif
+
 static struct platform_driver ras_driver = {
 	.probe = ras_probe,
-	.remove = ras_remove,
+	.remove = ras_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "arm64_ras",
diff --git a/nvidia-oot/drivers/rtc/nvvrs-pseq-rtc.c b/nvidia-oot/drivers/rtc/nvvrs-pseq-rtc.c
index f22954b..df067f5 100644
--- a/nvidia-oot/drivers/rtc/nvvrs-pseq-rtc.c
+++ b/nvidia-oot/drivers/rtc/nvvrs-pseq-rtc.c
@@ -4,6 +4,7 @@
  *
  * Copyright (C) 2022-2023 NVIDIA CORPORATION. All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/i2c.h>
 #include <linux/init.h>
@@ -520,13 +521,25 @@ static const struct platform_device_id nvvrs_rtc_id[] = {
 };
 MODULE_DEVICE_TABLE(platform, nvvrs_rtc_id);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvvrs_rtc_remove_wrapper(struct platform_device *pdev)
+{
+       nvvrs_rtc_remove(pdev);
+}
+#else
+static inline int nvvrs_rtc_remove_wrapper(struct platform_device *pdev)
+{
+       return nvvrs_rtc_remove(pdev);
+}
+#endif
+
 static struct platform_driver nvvrs_rtc_driver = {
 	.driver		= {
 		.name   = "nvvrs-pseq-rtc",
 		.pm     = &nvvrs_rtc_pm_ops,
 	},
 	.probe		= nvvrs_rtc_probe,
-	.remove		= nvvrs_rtc_remove,
+	.remove		= nvvrs_rtc_remove_wrapper,
 	.shutdown	= nvvrs_rtc_shutdown,
 	.id_table       = nvvrs_rtc_id,
 };
diff --git a/nvidia-oot/drivers/rtc/rtc-max77851.c b/nvidia-oot/drivers/rtc/rtc-max77851.c
index 97fe504..af37fb8 100644
--- a/nvidia-oot/drivers/rtc/rtc-max77851.c
+++ b/nvidia-oot/drivers/rtc/rtc-max77851.c
@@ -3,6 +3,7 @@
 /*
  * RTC driver for Maxim MAX77851
  */
+#include <nvidia/conftest.h>
 
 #include <linux/i2c.h>
 #include <linux/slab.h>
@@ -874,6 +875,18 @@ static const struct platform_device_id rtc_id[] = {
 };
 MODULE_DEVICE_TABLE(platform, rtc_id);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void max77851_rtc_remove_wrapper(struct platform_device *pdev)
+{
+       max77851_rtc_remove(pdev);
+}
+#else
+static inline int max77851_rtc_remove_wrapper(struct platform_device *pdev)
+{
+       return max77851_rtc_remove(pdev);
+}
+#endif
+
 static struct platform_driver max77851_rtc_driver = {
 	.driver		= {
 		.name	= "max77851-rtc",
@@ -881,7 +894,7 @@ static struct platform_driver max77851_rtc_driver = {
 	},
 	.probe		= max77851_rtc_probe,
 	.shutdown	= max77851_rtc_shutdown,
-	.remove		= max77851_rtc_remove,
+	.remove		= max77851_rtc_remove_wrapper,
 	.id_table	= rtc_id,
 };
 
diff --git a/nvidia-oot/drivers/scsi/ufs/ufs-tegra-common.c b/nvidia-oot/drivers/scsi/ufs/ufs-tegra-common.c
index 74bf344..773fb7f 100644
--- a/nvidia-oot/drivers/scsi/ufs/ufs-tegra-common.c
+++ b/nvidia-oot/drivers/scsi/ufs/ufs-tegra-common.c
@@ -3,8 +3,6 @@
 
 #include <nvidia/conftest.h>
 
-#include <nvidia/conftest.h>
-
 #include <linux/clk.h>
 #include <linux/delay.h>
 #include <linux/time.h>
@@ -1950,9 +1948,21 @@ static const struct dev_pm_ops ufs_tegra_pm_ops = {
 	SET_RUNTIME_PM_OPS(ufshcd_runtime_suspend, ufshcd_runtime_resume, NULL)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void ufs_tegra_remove_wrapper(struct platform_device *pdev)
+{
+       ufs_tegra_remove(pdev);
+}
+#else
+static inline int ufs_tegra_remove_wrapper(struct platform_device *pdev)
+{
+       return ufs_tegra_remove(pdev);
+}
+#endif
+
 static struct platform_driver ufs_tegra_platform = {
 	.probe = ufs_tegra_probe,
-	.remove = ufs_tegra_remove,
+	.remove = ufs_tegra_remove_wrapper,
 	.driver = {
 		.name = "ufs_tegra",
 		.pm   = &ufs_tegra_pm_ops,
diff --git a/nvidia-oot/drivers/soc/tegra/fuse/kfuse.c b/nvidia-oot/drivers/soc/tegra/fuse/kfuse.c
index 857648d..0637552 100644
--- a/nvidia-oot/drivers/soc/tegra/fuse/kfuse.c
+++ b/nvidia-oot/drivers/soc/tegra/fuse/kfuse.c
@@ -4,6 +4,7 @@
 /* The kfuse block stores downstream and upstream HDCP keys for use by HDMI
  * module.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/platform_device.h>
 #include <linux/kernel.h>
@@ -304,9 +305,21 @@ static const struct of_device_id tegra_kfuse_of_match[] = {
 	{ },
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_kfuse_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_kfuse_remove(pdev);
+}
+#else
+static inline int tegra_kfuse_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_kfuse_remove(pdev);
+}
+#endif
+
 static struct platform_driver kfuse_driver = {
 	.probe = tegra_kfuse_probe,
-	.remove = tegra_kfuse_remove,
+	.remove = tegra_kfuse_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "kfuse",
diff --git a/nvidia-oot/drivers/spi/spi-tegra124-slave.c b/nvidia-oot/drivers/spi/spi-tegra124-slave.c
index f27e73a..497dbeb 100644
--- a/nvidia-oot/drivers/spi/spi-tegra124-slave.c
+++ b/nvidia-oot/drivers/spi/spi-tegra124-slave.c
@@ -2273,6 +2273,20 @@ static const struct dev_pm_ops tegra_spi_pm_ops = {
 		tegra_spi_runtime_resume, NULL)
 	SET_SYSTEM_SLEEP_PM_OPS(tegra_spi_suspend, tegra_spi_resume)
 };
+
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_spi_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_spi_remove(pdev);
+}
+#else
+static inline int tegra_spi_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_spi_remove(pdev);
+}
+#endif
+
+
 static struct platform_driver tegra_spi_driver = {
 	.driver = {
 		.name		= "spi-tegra124-slave",
@@ -2281,7 +2295,7 @@ static struct platform_driver tegra_spi_driver = {
 		.of_match_table	= of_match_ptr(tegra_spi_of_match),
 	},
 	.probe =	tegra_spi_probe,
-	.remove =	tegra_spi_remove,
+	.remove =	tegra_spi_remove_wrapper,
 };
 module_platform_driver(tegra_spi_driver);
 
diff --git a/nvidia-oot/drivers/spi/spi-tegra210-quad.c b/nvidia-oot/drivers/spi/spi-tegra210-quad.c
index 889c466..d462093 100644
--- a/nvidia-oot/drivers/spi/spi-tegra210-quad.c
+++ b/nvidia-oot/drivers/spi/spi-tegra210-quad.c
@@ -1924,6 +1924,18 @@ static const struct dev_pm_ops tegra_qspi_pm_ops = {
 	SET_SYSTEM_SLEEP_PM_OPS(tegra_qspi_suspend, tegra_qspi_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_qspi_remove_wrapper(struct platform_device *pdev)
+{
+       tegra_qspi_remove(pdev);
+}
+#else
+static inline int tegra_qspi_remove_wrapper(struct platform_device *pdev)
+{
+       return tegra_qspi_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_qspi_driver = {
 	.driver = {
 		.name		= "tegra-qspi",
@@ -1932,7 +1944,7 @@ static struct platform_driver tegra_qspi_driver = {
 		.acpi_match_table = ACPI_PTR(tegra_qspi_acpi_match),
 	},
 	.probe =	tegra_qspi_probe,
-	.remove =	tegra_qspi_remove,
+	.remove =	tegra_qspi_remove_wrapper,
 };
 module_platform_driver(tegra_qspi_driver);
 
diff --git a/nvidia-oot/drivers/thermal/tegra234-oc-event.c b/nvidia-oot/drivers/thermal/tegra234-oc-event.c
index 1bf8f23..2a3a3eb 100644
--- a/nvidia-oot/drivers/thermal/tegra234-oc-event.c
+++ b/nvidia-oot/drivers/thermal/tegra234-oc-event.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // Copyright (c) 2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <dt-bindings/thermal/tegra234-soctherm.h>
 #include <linux/err.h>
@@ -207,9 +208,21 @@ static int tegra234_oc_event_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra234_oc_event_remove_wrapper(struct platform_device *pdev)
+{
+        tegra234_oc_event_remove(pdev);
+}
+#else
+static inline int tegra234_oc_event_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra234_oc_event_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra234_oc_event_driver = {
 	.probe = tegra234_oc_event_probe,
-	.remove = tegra234_oc_event_remove,
+	.remove = tegra234_oc_event_remove_wrapper,
 	.driver = {
 		.name = "tegra234-oc-event",
 		.of_match_table = of_tegra234_oc_event_match,
diff --git a/nvidia-oot/drivers/thermal/thermal-trip-event.c b/nvidia-oot/drivers/thermal/thermal-trip-event.c
index fd3f500..01b0983 100644
--- a/nvidia-oot/drivers/thermal/thermal-trip-event.c
+++ b/nvidia-oot/drivers/thermal/thermal-trip-event.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // SPDX-FileCopyrightText: Copyright (c) 2023, NVIDIA CORPORATION & AFFILIATES.  All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/kernel.h>
 #include <linux/module.h>
@@ -239,6 +240,18 @@ static const struct of_device_id thermal_trip_event_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, thermal_trip_event_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void thermal_trip_event_remove_wrapper(struct platform_device *pdev)
+{
+       thermal_trip_event_remove(pdev);
+}
+#else
+static inline int thermal_trip_event_remove_wrapper(struct platform_device *pdev)
+{
+       return thermal_trip_event_remove(pdev);
+}
+#endif
+
 static struct platform_driver thermal_trip_event_driver = {
 	.driver = {
 		.name = "thermal-trip-event",
@@ -246,7 +259,7 @@ static struct platform_driver thermal_trip_event_driver = {
 		.of_match_table = thermal_trip_event_of_match,
 	},
 	.probe = thermal_trip_event_probe,
-	.remove = thermal_trip_event_remove,
+	.remove = thermal_trip_event_remove_wrapper,
 };
 
 module_platform_driver(thermal_trip_event_driver);
diff --git a/nvidia-oot/drivers/video/tegra/camera/tegra_camera_platform.c b/nvidia-oot/drivers/video/tegra/camera/tegra_camera_platform.c
index 44d442e..e77293a 100644
--- a/nvidia-oot/drivers/video/tegra/camera/tegra_camera_platform.c
+++ b/nvidia-oot/drivers/video/tegra/camera/tegra_camera_platform.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (C) 2015-2023 NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/fs.h>
 #include <linux/platform_device.h>
@@ -793,9 +794,21 @@ static int tegra_camera_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_camera_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_camera_remove(pdev);
+}
+#else
+static inline int tegra_camera_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_camera_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_camera_driver = {
 	.probe = tegra_camera_probe,
-	.remove = tegra_camera_remove,
+	.remove = tegra_camera_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "tegra_camera_platform",
diff --git a/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_dp_serializer.c b/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_dp_serializer.c
index 23eea26..6487a82 100644
--- a/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_dp_serializer.c
+++ b/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_dp_serializer.c
@@ -1287,7 +1287,7 @@ static int max_gmsl_dp_ser_probe(struct i2c_client *client)
 	priv->ser_errb = of_get_named_gpio(ser, "ser-errb", 0);
 
 	ret = devm_gpio_request_one(&client->dev, priv->ser_errb,
-				    GPIOF_DIR_IN, "GPIO_MAXIM_SER");
+				    GPIOF_IN, "GPIO_MAXIM_SER");
 	if (ret < 0) {
 		dev_err(dev, "%s: GPIO request failed\n ret: %d",
 			__func__, ret);
diff --git a/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_hdmi_serializer.c b/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_hdmi_serializer.c
index f206330..979cd38 100644
--- a/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_hdmi_serializer.c
+++ b/nvidia-oot/drivers/video/tegra/dc/bridge/maxim_gmsl_hdmi_serializer.c
@@ -126,7 +126,7 @@ static int maxim_gmsl_hdmi_ser_init(struct device *dev)
 	priv = i2c_get_clientdata(client);
 
 	ret = devm_gpio_request_one(&client->dev, priv->ser_pwrdn,
-				GPIOF_DIR_OUT, "GPIO_MAXIM_SER_PWRDN");
+				GPIOF_OUT_INIT_LOW, "GPIO_MAXIM_SER_PWRDN");
 	if (ret < 0) {
 		dev_err(dev, "%s: GPIO request failed ret: %d\n", __func__, ret);
 		return ret;
@@ -257,7 +257,7 @@ static int maxim_gmsl_hdmi_ser_probe(struct i2c_client *client)
 	}
 
 	ret = devm_gpio_request_one(&client->dev, priv->ser_errb,
-					GPIOF_DIR_IN, "GPIO_MAXIM_SER");
+					GPIOF_IN, "GPIO_MAXIM_SER");
 	if (ret < 0) {
 		dev_err(dev, "%s: GPIO request failed\n ret: %d",
 			__func__, ret);
diff --git a/nvidia-oot/drivers/video/tegra/host/capture/capture-support.c b/nvidia-oot/drivers/video/tegra/host/capture/capture-support.c
index df0c4fe..6696dd7 100644
--- a/nvidia-oot/drivers/video/tegra/host/capture/capture-support.c
+++ b/nvidia-oot/drivers/video/tegra/host/capture/capture-support.c
@@ -4,6 +4,7 @@
  *
  * Copyright (c) 2017-2022, NVIDIA Corporation.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include "capture-support.h"
 #include <linux/device.h>
@@ -187,9 +188,21 @@ static const struct of_device_id capture_support_match[] = {
 };
 MODULE_DEVICE_TABLE(of, capture_support_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void capture_support_remove_wrapper(struct platform_device *pdev)
+{
+        capture_support_remove(pdev);
+}
+#else
+static inline int capture_support_remove_wrapper(struct platform_device *pdev)
+{
+        return capture_support_remove(pdev);
+}
+#endif
+
 static struct platform_driver capture_support_driver = {
 	.probe = capture_support_probe,
-	.remove = capture_support_remove,
+	.remove = capture_support_remove_wrapper,
 	.driver = {
 		/* Only suitable name for dummy falcon driver */
 		.name = "scare-pigeon",
diff --git a/nvidia-oot/drivers/video/tegra/host/isp/isp5.c b/nvidia-oot/drivers/video/tegra/host/isp/isp5.c
index 9006456..9932c16 100644
--- a/nvidia-oot/drivers/video/tegra/host/isp/isp5.c
+++ b/nvidia-oot/drivers/video/tegra/host/isp/isp5.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // SPDX-FileCopyrightText: Copyright (c) 2017-2024 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <asm/ioctls.h>
 #include <linux/clk.h>
@@ -344,9 +345,21 @@ static const struct of_device_id tegra_isp5_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_isp5_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void isp5_remove_wrapper(struct platform_device *pdev)
+{
+        isp5_remove(pdev);
+}
+#else
+static inline int isp5_remove_wrapper(struct platform_device *pdev)
+{
+        return isp5_remove(pdev);
+}
+#endif
+
 static struct platform_driver isp5_driver = {
 	.probe = isp5_probe,
-	.remove = isp5_remove,
+	.remove = isp5_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "tegra194-isp5",
diff --git a/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi-t194.c b/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi-t194.c
index de40bf6..bdffb93 100644
--- a/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi-t194.c
+++ b/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi-t194.c
@@ -2,6 +2,7 @@
 /*
  * SPDX-FileCopyrightText: Copyright (C) 2017-2023 NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include "nvcsi-t194.h"
 #include <uapi/linux/nvhost_nvcsi_ioctl.h>
@@ -23,6 +24,7 @@
 #include <linux/uaccess.h>
 #include <linux/kthread.h>
 #include <linux/nvhost.h>
+#include <linux/version.h>
 
 #include <media/mc_common.h>
 #include <media/tegra_camera_platform.h>
@@ -109,7 +111,9 @@ static int t194_nvcsi_release(struct inode *inode, struct file *file)
 
 const struct file_operations tegra194_nvcsi_ctrl_ops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = t194_nvcsi_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = t194_nvcsi_ioctl,
@@ -243,9 +247,21 @@ static int __exit t194_nvcsi_remove(struct platform_device *dev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void t194_nvcsi_remove_wrapper(struct platform_device *pdev)
+{
+        t194_nvcsi_remove(pdev);
+}
+#else
+static inline int t194_nvcsi_remove_wrapper(struct platform_device *pdev)
+{
+        return t194_nvcsi_remove(pdev);
+}
+#endif
+
 static struct platform_driver t194_nvcsi_driver = {
 	.probe = t194_nvcsi_probe,
-	.remove = __exit_p(t194_nvcsi_remove),
+	.remove = __exit_p(t194_nvcsi_remove_wrapper),
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "t194-nvcsi",
diff --git a/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi.c b/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi.c
index 2cc9680..0fb9bab 100644
--- a/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi.c
+++ b/nvidia-oot/drivers/video/tegra/host/nvcsi/nvcsi.c
@@ -19,6 +19,7 @@
 #include <linux/regulator/consumer.h>
 #include <linux/slab.h>
 #include <linux/nvhost.h>
+#include <linux/version.h>
 
 #include <media/mc_common.h>
 #include <media/csi.h>
@@ -129,7 +130,9 @@ static int nvcsi_release(struct inode *inode, struct file *file)
 
 const struct file_operations tegra_nvcsi_ctrl_ops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = nvcsi_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = nvcsi_ioctl,
diff --git a/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla.c b/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla.c
index 29a2ba4..806b9fb 100644
--- a/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla.c
+++ b/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla.c
@@ -4,6 +4,7 @@
  *
  * NVDLA driver for T194/T23x
  */
+#include <nvidia/conftest.h>
 
 #include <linux/arm64-barrier.h>
 #include <linux/module.h>
@@ -1526,9 +1527,21 @@ const struct dev_pm_ops nvdla_module_pm_ops = {
 };
 #endif /* CONFIG_PM */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvdla_remove_wrapper(struct platform_device *pdev)
+{
+        nvdla_remove(pdev);
+}
+#else
+static inline int nvdla_remove_wrapper(struct platform_device *pdev)
+{
+        return nvdla_remove(pdev);
+}
+#endif
+
 static struct platform_driver nvdla_driver = {
 	.probe = nvdla_probe,
-	.remove = __exit_p(nvdla_remove),
+	.remove = __exit_p(nvdla_remove_wrapper),
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "nvdla",
diff --git a/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla_ioctl.c b/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla_ioctl.c
index 1ab0866..40172f5 100644
--- a/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla_ioctl.c
+++ b/nvidia-oot/drivers/video/tegra/host/nvdla/nvdla_ioctl.c
@@ -11,6 +11,7 @@
 #include <linux/slab.h>
 #include <linux/dma-mapping.h>
 #include <linux/uaccess.h>
+#include <linux/version.h>
 
 #include "nvdla.h"
 #include "dla_queue.h"
@@ -1329,7 +1330,9 @@ static int nvdla_release(struct inode *inode, struct file *file)
 
 const struct file_operations tegra_nvdla_ctrl_ops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = nvdla_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = nvdla_ioctl,
diff --git a/nvidia-oot/drivers/video/tegra/host/pva/pva.c b/nvidia-oot/drivers/video/tegra/host/pva/pva.c
index 0935256..c484968 100644
--- a/nvidia-oot/drivers/video/tegra/host/pva/pva.c
+++ b/nvidia-oot/drivers/video/tegra/host/pva/pva.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2016-2023, NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include "pva_mailbox.h"
 #include <linux/workqueue.h>
@@ -1708,9 +1709,21 @@ const struct dev_pm_ops nvpva_module_pm_ops = {
 };
 #endif /* CONFIG_PM */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void pva_remove_wrapper(struct platform_device *pdev)
+{
+        pva_remove(pdev);
+}
+#else
+static inline int pva_remove_wrapper(struct platform_device *pdev)
+{
+        return pva_remove(pdev);
+}
+#endif
+
 static struct platform_driver pva_driver = {
 	.probe = pva_probe,
-	.remove = __exit_p(pva_remove),
+	.remove = __exit_p(pva_remove_wrapper),
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "pva",
diff --git a/nvidia-oot/drivers/video/tegra/host/pva/pva_ioctl.c b/nvidia-oot/drivers/video/tegra/host/pva/pva_ioctl.c
index 62f1f75..5aea4f2 100644
--- a/nvidia-oot/drivers/video/tegra/host/pva/pva_ioctl.c
+++ b/nvidia-oot/drivers/video/tegra/host/pva/pva_ioctl.c
@@ -1134,7 +1134,9 @@ static ssize_t pva_read_vpu_print_buffer(struct file *file,
 
 const struct file_operations tegra_pva_ctrl_ops = {
 	.owner = THIS_MODULE,
-	.llseek = no_llseek,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
+	.llseek         = no_llseek,
+#endif
 	.unlocked_ioctl = pva_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl = pva_ioctl,
diff --git a/nvidia-oot/drivers/video/tegra/host/pva/pva_iommu_context_dev.c b/nvidia-oot/drivers/video/tegra/host/pva/pva_iommu_context_dev.c
index 45fa346..e4c9fe2 100644
--- a/nvidia-oot/drivers/video/tegra/host/pva/pva_iommu_context_dev.c
+++ b/nvidia-oot/drivers/video/tegra/host/pva/pva_iommu_context_dev.c
@@ -4,6 +4,7 @@
  *
  * PVA Application Specific Virtual Memory
  */
+#include <nvidia/conftest.h>
 
 #include <linux/dma-mapping.h>
 #include <linux/of_platform.h>
@@ -237,9 +238,21 @@ static int __exit pva_iommu_context_dev_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void pva_iommu_context_dev_remove_wrapper(struct platform_device *pdev)
+{
+        pva_iommu_context_dev_remove(pdev);
+}
+#else
+static inline int pva_iommu_context_dev_remove_wrapper(struct platform_device *pdev)
+{
+        return pva_iommu_context_dev_remove(pdev);
+}
+#endif
+
 struct platform_driver nvpva_iommu_context_dev_driver = {
 	.probe = pva_iommu_context_dev_probe,
-	.remove = __exit_p(pva_iommu_context_dev_remove),
+	.remove = __exit_p(pva_iommu_context_dev_remove_wrapper),
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "pva_iommu_context_dev",
diff --git a/nvidia-oot/drivers/video/tegra/host/vi/vi5.c b/nvidia-oot/drivers/video/tegra/host/vi/vi5.c
index e7f6e51..22a9546 100644
--- a/nvidia-oot/drivers/video/tegra/host/vi/vi5.c
+++ b/nvidia-oot/drivers/video/tegra/host/vi/vi5.c
@@ -3,6 +3,7 @@
 /*
  * VI5 driver
  */
+#include <nvidia/conftest.h>
 
 #include <asm/ioctls.h>
 #include <linux/debugfs.h>
@@ -429,9 +430,21 @@ const struct dev_pm_ops vi_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void vi5_remove_wrapper(struct platform_device *pdev)
+{
+        vi5_remove(pdev);
+}
+#else
+static inline int vi5_remove_wrapper(struct platform_device *pdev)
+{
+        return vi5_remove(pdev);
+}
+#endif
+
 static struct platform_driver vi5_driver = {
 	.probe = vi5_probe,
-	.remove = vi5_remove,
+	.remove = vi5_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "tegra194-vi5",
diff --git a/nvidia-oot/drivers/video/tegra/nvmap/nvmap_dev.c b/nvidia-oot/drivers/video/tegra/nvmap/nvmap_dev.c
index b6ecbf1..64855e5 100644
--- a/nvidia-oot/drivers/video/tegra/nvmap/nvmap_dev.c
+++ b/nvidia-oot/drivers/video/tegra/nvmap/nvmap_dev.c
@@ -776,7 +776,7 @@ static int nvmap_page_mapcount(struct page *page)
 	int mapcount = atomic_read(&page->_mapcount) + 1;
 
 	/* Handle page_has_type() pages */
-	if (mapcount < PAGE_MAPCOUNT_RESERVE + 1)
+	if (page_mapcount_is_type(mapcount))
 		mapcount = 0;
 	if (unlikely(PageCompound(page)))
 #if defined(NV_FOLIO_ENTIRE_MAPCOUNT_PRESENT) /* Linux v5.18 */
diff --git a/nvidia-oot/drivers/video/tegra/nvmap/nvmap_init.c b/nvidia-oot/drivers/video/tegra/nvmap/nvmap_init.c
index 0cbf8a4..b3835e8 100644
--- a/nvidia-oot/drivers/video/tegra/nvmap/nvmap_init.c
+++ b/nvidia-oot/drivers/video/tegra/nvmap/nvmap_init.c
@@ -2,6 +2,7 @@
 /*
  * Copyright (c) 2014-2024, NVIDIA CORPORATION. All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #define pr_fmt(fmt) "%s: " fmt, __func__
 
@@ -1009,9 +1010,21 @@ static bool nvmap_is_carveout_node_present(void)
 }
 #endif /* NVMAP_LOADABLE_MODULE */
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void nvmap_remove_wrapper(struct platform_device *pdev)
+{
+        nvmap_remove(pdev);
+}
+#else
+static inline int nvmap_remove_wrapper(struct platform_device *pdev)
+{
+        return nvmap_remove(pdev);
+}
+#endif
+
 static struct platform_driver __refdata nvmap_driver = {
 	.probe		= nvmap_probe,
-	.remove		= nvmap_remove,
+	.remove		= nvmap_remove_wrapper,
 
 	.driver = {
 		.name	= "tegra-carveouts",
diff --git a/nvidia-oot/drivers/video/tegra/tsec/tsec.c b/nvidia-oot/drivers/video/tegra/tsec/tsec.c
index b661667..226e60e 100644
--- a/nvidia-oot/drivers/video/tegra/tsec/tsec.c
+++ b/nvidia-oot/drivers/video/tegra/tsec/tsec.c
@@ -4,6 +4,7 @@
  *
  * Tegra TSEC Module Support
  */
+#include <nvidia/conftest.h>
 
 #include "tsec_linux.h"
 #include "tsec.h"
@@ -460,9 +461,21 @@ static int tsec_remove(struct platform_device *dev)
 	return tsec_poweroff(&dev->dev);
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tsec_remove_wrapper(struct platform_device *pdev)
+{
+        tsec_remove(pdev);
+}
+#else
+static inline int tsec_remove_wrapper(struct platform_device *pdev)
+{
+        return tsec_remove(pdev);
+}
+#endif
+
 static struct platform_driver tsec_driver = {
 	.probe = tsec_probe,
-	.remove = tsec_remove,
+	.remove = tsec_remove_wrapper,
 	.driver = {
 		.owner = THIS_MODULE,
 		.name = "tsec",
diff --git a/nvidia-oot/drivers/virt/tegra/tegra_hv_pm_ctl.c b/nvidia-oot/drivers/virt/tegra/tegra_hv_pm_ctl.c
index 9ba5d6a..02927c5 100644
--- a/nvidia-oot/drivers/virt/tegra/tegra_hv_pm_ctl.c
+++ b/nvidia-oot/drivers/virt/tegra/tegra_hv_pm_ctl.c
@@ -17,6 +17,7 @@
 #include <linux/delay.h>
 #include <linux/sched.h>
 #include <linux/pid.h>
+#include <linux/version.h>
 
 #ifdef CONFIG_PM_SLEEP
 #include <linux/suspend.h>
@@ -391,7 +392,9 @@ static int tegra_hv_pm_ctl_release(struct inode *inode, struct file *filp)
 
 static const struct file_operations tegra_hv_pm_ctl_fops = {
 	.owner		= THIS_MODULE,
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 12, 0)
 	.llseek		= no_llseek,
+#endif
 	.read		= tegra_hv_pm_ctl_read,
 	.write		= tegra_hv_pm_ctl_write,
 	.poll		= tegra_hv_pm_ctl_poll,
@@ -1144,6 +1147,18 @@ static const struct of_device_id tegra_hv_pm_ctl_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_hv_pm_ctl_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_hv_pm_ctl_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_hv_pm_ctl_remove(pdev);
+}
+#else
+static inline int tegra_hv_pm_ctl_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_hv_pm_ctl_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_hv_pm_ctl_driver = {
 	.driver = {
 		.name = DRV_NAME,
@@ -1151,7 +1166,7 @@ static struct platform_driver tegra_hv_pm_ctl_driver = {
 		.of_match_table = of_match_ptr(tegra_hv_pm_ctl_match),
 	},
 	.probe = tegra_hv_pm_ctl_probe,
-	.remove = tegra_hv_pm_ctl_remove,
+	.remove = tegra_hv_pm_ctl_remove_wrapper,
 };
 module_platform_driver(tegra_hv_pm_ctl_driver);
 
diff --git a/nvidia-oot/drivers/virt/tegra/tegra_hv_vcpu_yield.c b/nvidia-oot/drivers/virt/tegra/tegra_hv_vcpu_yield.c
index 66f8ff1..29d424d 100644
--- a/nvidia-oot/drivers/virt/tegra/tegra_hv_vcpu_yield.c
+++ b/nvidia-oot/drivers/virt/tegra/tegra_hv_vcpu_yield.c
@@ -458,6 +458,18 @@ static const struct of_device_id tegra_hv_vcpu_yield_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_hv_vcpu_yield_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_hv_vcpu_yield_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_hv_vcpu_yield_remove(pdev);
+}
+#else
+static inline int tegra_hv_vcpu_yield_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_hv_vcpu_yield_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_hv_vcpu_yield_driver = {
 	.driver = {
 		.name = DRV_NAME,
@@ -465,7 +477,7 @@ static struct platform_driver tegra_hv_vcpu_yield_driver = {
 		.of_match_table = of_match_ptr(tegra_hv_vcpu_yield_match),
 	},
 	.probe = tegra_hv_vcpu_yield_probe,
-	.remove = tegra_hv_vcpu_yield_remove,
+	.remove = tegra_hv_vcpu_yield_remove_wrapper,
 };
 module_platform_driver(tegra_hv_vcpu_yield_driver);
 
diff --git a/nvidia-oot/drivers/watchdog/max77851_wdt.c b/nvidia-oot/drivers/watchdog/max77851_wdt.c
index 502e11f..7037ef1 100644
--- a/nvidia-oot/drivers/watchdog/max77851_wdt.c
+++ b/nvidia-oot/drivers/watchdog/max77851_wdt.c
@@ -3,6 +3,7 @@
 /*
  * Maxim MAX77851 Watchdog Driver
  */
+#include <nvidia/conftest.h>
 
 #include <linux/err.h>
 #include <linux/init.h>
@@ -208,12 +209,24 @@ static struct platform_device_id max77851_wdt_devtype[] = {
 	{ },
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void max77851_wdt_remove_wrapper(struct platform_device *pdev)
+{
+       max77851_wdt_remove(pdev);
+}
+#else
+static inline int max77851_wdt_remove_wrapper(struct platform_device *pdev)
+{
+       return max77851_wdt_remove(pdev);
+}
+#endif
+
 static struct platform_driver max77851_wdt_driver = {
 	.driver	= {
 		.name	= "max77851-watchdog",
 	},
 	.probe	= max77851_wdt_probe,
-	.remove	= max77851_wdt_remove,
+	.remove	= max77851_wdt_remove_wrapper,
 	.id_table = max77851_wdt_devtype,
 };
 
diff --git a/nvidia-oot/drivers/watchdog/softdog-platform.c b/nvidia-oot/drivers/watchdog/softdog-platform.c
index 0064781..4345d50 100644
--- a/nvidia-oot/drivers/watchdog/softdog-platform.c
+++ b/nvidia-oot/drivers/watchdog/softdog-platform.c
@@ -4,6 +4,7 @@
  *
  * Copyright (c) 2014-2022, NVIDIA CORPORATION.  All rights reserved.
  */
+#include <nvidia/conftest.h>
 
 #include <linux/module.h>
 #include <linux/types.h>
@@ -240,6 +241,18 @@ static struct of_device_id softdog_platform_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, softdog_platform_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void softdog_platform_remove_wrapper(struct platform_device *pdev)
+{
+        softdog_platform_remove(pdev);
+}
+#else
+static inline int softdog_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return softdog_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver softdog_platform_driver = {
 	.driver = {
 		.name = "softdog-platform",
@@ -248,7 +261,7 @@ static struct platform_driver softdog_platform_driver = {
 		.pm = &softdog_platform_pm_ops,
 	},
 	.probe = softdog_platform_probe,
-	.remove = softdog_platform_remove,
+	.remove = softdog_platform_remove_wrapper,
 	.shutdown = softdog_platform_shutdown,
 };
 
diff --git a/nvidia-oot/drivers/watchdog/watchdog-tegra-t18x.c b/nvidia-oot/drivers/watchdog/watchdog-tegra-t18x.c
index 3c8774a..95c234f 100644
--- a/nvidia-oot/drivers/watchdog/watchdog-tegra-t18x.c
+++ b/nvidia-oot/drivers/watchdog/watchdog-tegra-t18x.c
@@ -1,5 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0-only
 // Copyright (C) 2023 NVIDIA CORPORATION. All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/debugfs.h>
 #include <linux/fs.h>
@@ -828,9 +829,21 @@ static const struct of_device_id tegra_wdt_t18x_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra_wdt_t18x_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_wdt_t18x_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_wdt_t18x_remove(pdev);
+}
+#else
+static inline int tegra_wdt_t18x_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_wdt_t18x_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_wdt_t18x_driver = {
 	.probe		= tegra_wdt_t18x_probe,
-	.remove		= tegra_wdt_t18x_remove,
+	.remove		= tegra_wdt_t18x_remove_wrapper,
 	.shutdown	= tegra_wdt_t18x_shutdown,
 	.driver		= {
 		.owner	= THIS_MODULE,
diff --git a/nvidia-oot/scripts/conftest/Makefile b/nvidia-oot/scripts/conftest/Makefile
index 402c5f8..b0a3683 100644
--- a/nvidia-oot/scripts/conftest/Makefile
+++ b/nvidia-oot/scripts/conftest/Makefile
@@ -118,6 +118,7 @@ NV_CONFTEST_FUNCTION_COMPILE_TESTS += drm_fb_helper_unregister_info
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += drm_fb_helper_struct_has_info_arg
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += drm_mode_config_struct_has_fb_base_arg
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += drm_scdc_get_set_has_struct_drm_connector_arg
+NV_CONFTEST_FUNCTION_COMPILE_TESTS += dummy_driver_struct_ret_void
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += ethtool_keee_struct_present
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += ethtool_kernel_ethtool_ts_info_struct_present
 NV_CONFTEST_FUNCTION_COMPILE_TESTS += ethtool_ops_get_set_coalesce_has_coal_and_extack_args
diff --git a/nvidia-oot/scripts/conftest/conftest.sh b/nvidia-oot/scripts/conftest/conftest.sh
index 2346a86..e3b465d 100755
--- a/nvidia-oot/scripts/conftest/conftest.sh
+++ b/nvidia-oot/scripts/conftest/conftest.sh
@@ -436,6 +436,10 @@ check_for_ib_peer_memory_symbols() {
 
 compile_test() {
     case "$1" in
+        dummy_driver_struct_ret_void)
+            echo "#define NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID" | append_conftest "functions"
+        ;;
+
         set_memory_uc)
             #
             # Determine if the set_memory_uc() function is present.
diff --git a/nvidia-oot/sound/soc/tegra-virt-alt/tegra_virt_ref_alt.c b/nvidia-oot/sound/soc/tegra-virt-alt/tegra_virt_ref_alt.c
index f0bd616..57d0743 100644
--- a/nvidia-oot/sound/soc/tegra-virt-alt/tegra_virt_ref_alt.c
+++ b/nvidia-oot/sound/soc/tegra-virt-alt/tegra_virt_ref_alt.c
@@ -251,6 +251,18 @@ static int tegra_virt_machine_driver_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_virt_machine_driver_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_virt_machine_driver_remove(pdev);
+}
+#else
+static inline int tegra_virt_machine_driver_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_virt_machine_driver_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_virt_machine_driver = {
 	.driver = {
 		.name = DRV_NAME,
@@ -260,7 +272,7 @@ static struct platform_driver tegra_virt_machine_driver = {
 			of_match_ptr(tegra_virt_machine_of_match),
 	},
 	.probe = tegra_virt_machine_driver_probe,
-	.remove = tegra_virt_machine_driver_remove,
+	.remove = tegra_virt_machine_driver_remove_wrapper,
 };
 module_platform_driver(tegra_virt_machine_driver);
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra186_arad.c b/nvidia-oot/sound/soc/tegra/tegra186_arad.c
index c9c6b65..e1290b5 100644
--- a/nvidia-oot/sound/soc/tegra/tegra186_arad.c
+++ b/nvidia-oot/sound/soc/tegra/tegra186_arad.c
@@ -797,6 +797,18 @@ static const struct dev_pm_ops tegra186_arad_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra186_arad_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra186_arad_platform_remove(pdev);
+}
+#else
+static inline int tegra186_arad_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra186_arad_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra186_arad_driver = {
 	.driver = {
 		.name = "tegra186-arad",
@@ -804,7 +816,7 @@ static struct platform_driver tegra186_arad_driver = {
 		.pm = &tegra186_arad_pm_ops,
 	},
 	.probe = tegra186_arad_platform_probe,
-	.remove = tegra186_arad_platform_remove,
+	.remove = tegra186_arad_platform_remove_wrapper,
 };
 module_platform_driver(tegra186_arad_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra186_asrc.c b/nvidia-oot/sound/soc/tegra/tegra186_asrc.c
index 6e7f96f..7897651 100644
--- a/nvidia-oot/sound/soc/tegra/tegra186_asrc.c
+++ b/nvidia-oot/sound/soc/tegra/tegra186_asrc.c
@@ -1163,6 +1163,18 @@ static const struct dev_pm_ops tegra186_asrc_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra186_asrc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra186_asrc_platform_remove(pdev);
+}
+#else
+static inline int tegra186_asrc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra186_asrc_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra186_asrc_driver = {
 	.driver = {
 		.name = "tegra186-asrc",
@@ -1170,7 +1182,7 @@ static struct platform_driver tegra186_asrc_driver = {
 		.pm = &tegra186_asrc_pm_ops,
 	},
 	.probe = tegra186_asrc_platform_probe,
-	.remove = tegra186_asrc_platform_remove,
+	.remove = tegra186_asrc_platform_remove_wrapper,
 };
 module_platform_driver(tegra186_asrc_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra186_dspk.c b/nvidia-oot/sound/soc/tegra/tegra186_dspk.c
index 01916c4..7f35a66 100644
--- a/nvidia-oot/sound/soc/tegra/tegra186_dspk.c
+++ b/nvidia-oot/sound/soc/tegra/tegra186_dspk.c
@@ -694,6 +694,18 @@ static const struct dev_pm_ops tegra186_dspk_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra186_dspk_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra186_dspk_platform_remove(pdev);
+}
+#else
+static inline int tegra186_dspk_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra186_dspk_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra186_dspk_driver = {
 	.driver = {
 		.name = "tegra186-dspk",
@@ -701,7 +713,7 @@ static struct platform_driver tegra186_dspk_driver = {
 		.pm = &tegra186_dspk_pm_ops,
 	},
 	.probe = tegra186_dspk_platform_probe,
-	.remove = tegra186_dspk_platform_remove,
+	.remove = tegra186_dspk_platform_remove_wrapper,
 };
 module_platform_driver(tegra186_dspk_driver);
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_admaif.c b/nvidia-oot/sound/soc/tegra/tegra210_admaif.c
index 5efe2e4..9144af7 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_admaif.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_admaif.c
@@ -1394,9 +1394,21 @@ static const struct dev_pm_ops tegra_admaif_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_admaif_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_admaif_remove(pdev);
+}
+#else
+static inline int tegra_admaif_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_admaif_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_admaif_driver = {
 	.probe = tegra_admaif_probe,
-	.remove = tegra_admaif_remove,
+	.remove = tegra_admaif_remove_wrapper,
 	.driver = {
 		.name = "tegra210-admaif",
 		.of_match_table = tegra_admaif_of_match,
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_adx.c b/nvidia-oot/sound/soc/tegra/tegra210_adx.c
index 7a0bac3..9ed0317 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_adx.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_adx.c
@@ -765,6 +765,18 @@ static const struct dev_pm_ops tegra210_adx_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_adx_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_adx_platform_remove(pdev);
+}
+#else
+static inline int tegra210_adx_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_adx_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_adx_driver = {
 	.driver = {
 		.name = "tegra210-adx",
@@ -772,7 +784,7 @@ static struct platform_driver tegra210_adx_driver = {
 		.pm = &tegra210_adx_pm_ops,
 	},
 	.probe = tegra210_adx_platform_probe,
-	.remove = tegra210_adx_platform_remove,
+	.remove = tegra210_adx_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_adx_driver);
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_afc.c b/nvidia-oot/sound/soc/tegra/tegra210_afc.c
index 42adc3f..b2b6c0f 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_afc.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_afc.c
@@ -562,6 +562,18 @@ static const struct dev_pm_ops tegra210_afc_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_afc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_afc_platform_remove(pdev);
+}
+#else
+static inline int tegra210_afc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_afc_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_afc_driver = {
 	.driver = {
 		.name = "tegra210-afc",
@@ -569,7 +581,7 @@ static struct platform_driver tegra210_afc_driver = {
 		.pm = &tegra210_afc_pm_ops,
 	},
 	.probe = tegra210_afc_platform_probe,
-	.remove = tegra210_afc_platform_remove,
+	.remove = tegra210_afc_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_afc_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_ahub.c b/nvidia-oot/sound/soc/tegra/tegra210_ahub.c
index f0c6f38..19f8306 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_ahub.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_ahub.c
@@ -1679,9 +1679,21 @@ static const struct dev_pm_ops tegra_ahub_pm_ops = {
 				pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_ahub_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_ahub_remove(pdev);
+}
+#else
+static inline int tegra_ahub_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_ahub_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_ahub_driver = {
 	.probe = tegra_ahub_probe,
-	.remove = tegra_ahub_remove,
+	.remove = tegra_ahub_remove_wrapper,
 	.driver = {
 		.name = "tegra210-ahub",
 		.of_match_table = tegra_ahub_of_match,
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_amx.c b/nvidia-oot/sound/soc/tegra/tegra210_amx.c
index 46a83ce..046ce96 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_amx.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_amx.c
@@ -859,6 +859,19 @@ static const struct dev_pm_ops tegra210_amx_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_amx_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_amx_platform_remove(pdev);
+}
+#else
+static inline int tegra210_amx_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_amx_platform_remove(pdev);
+}
+#endif
+
+
 static struct platform_driver tegra210_amx_driver = {
 	.driver = {
 		.name = "tegra210-amx",
@@ -866,7 +879,7 @@ static struct platform_driver tegra210_amx_driver = {
 		.pm = &tegra210_amx_pm_ops,
 	},
 	.probe = tegra210_amx_platform_probe,
-	.remove = tegra210_amx_platform_remove,
+	.remove = tegra210_amx_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_amx_driver);
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_dmic.c b/nvidia-oot/sound/soc/tegra/tegra210_dmic.c
index 3ee630a..589f25f 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_dmic.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_dmic.c
@@ -701,6 +701,18 @@ static const struct of_device_id tegra210_dmic_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra210_dmic_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_dmic_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_dmic_remove(pdev);
+}
+#else
+static inline int tegra210_dmic_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_dmic_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_dmic_driver = {
 	.driver = {
 		.name = "tegra210-dmic",
@@ -708,7 +720,7 @@ static struct platform_driver tegra210_dmic_driver = {
 		.pm = &tegra210_dmic_pm_ops,
 	},
 	.probe = tegra210_dmic_probe,
-	.remove = tegra210_dmic_remove,
+	.remove = tegra210_dmic_remove_wrapper,
 };
 module_platform_driver(tegra210_dmic_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_i2s.c b/nvidia-oot/sound/soc/tegra/tegra210_i2s.c
index 57e629f..fbb3d5b 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_i2s.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_i2s.c
@@ -1279,6 +1279,18 @@ static const struct of_device_id tegra210_i2s_of_match[] = {
 };
 MODULE_DEVICE_TABLE(of, tegra210_i2s_of_match);
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_i2s_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_i2s_remove(pdev);
+}
+#else
+static inline int tegra210_i2s_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_i2s_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_i2s_driver = {
 	.driver = {
 		.name = "tegra210-i2s",
@@ -1286,7 +1298,7 @@ static struct platform_driver tegra210_i2s_driver = {
 		.pm = &tegra210_i2s_pm_ops,
 	},
 	.probe = tegra210_i2s_probe,
-	.remove = tegra210_i2s_remove,
+	.remove = tegra210_i2s_remove_wrapper,
 };
 module_platform_driver(tegra210_i2s_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_iqc.c b/nvidia-oot/sound/soc/tegra/tegra210_iqc.c
index 5ad3d4d..f809d60 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_iqc.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_iqc.c
@@ -3,6 +3,7 @@
 // tegra210_iqc.c - Tegra210 IQC driver
 //
 // Copyright (c) 2014-2021 NVIDIA CORPORATION.  All rights reserved.
+#include <nvidia/conftest.h>
 
 #include <linux/clk.h>
 #include <linux/device.h>
@@ -346,6 +347,18 @@ static const struct dev_pm_ops tegra210_iqc_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_iqc_platform_remove_wrapper(struct platform_device *pdev)
+{
+       tegra210_iqc_platform_remove (pdev);
+}
+#else
+static inline int tegra210_iqc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_iqc_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_iqc_driver = {
 	.driver = {
 		.name = "tegra210-iqc",
@@ -353,7 +366,7 @@ static struct platform_driver tegra210_iqc_driver = {
 		.pm = &tegra210_iqc_pm_ops,
 	},
 	.probe = tegra210_iqc_platform_probe,
-	.remove = tegra210_iqc_platform_remove,
+	.remove = tegra210_iqc_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_iqc_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_mixer.c b/nvidia-oot/sound/soc/tegra/tegra210_mixer.c
index 021c28a..e23446c 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_mixer.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_mixer.c
@@ -699,6 +699,18 @@ static const struct dev_pm_ops tegra210_mixer_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_mixer_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_mixer_platform_remove(pdev);
+}
+#else
+static inline int tegra210_mixer_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_mixer_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_mixer_driver = {
 	.driver = {
 		.name = "tegra210_mixer",
@@ -706,7 +718,7 @@ static struct platform_driver tegra210_mixer_driver = {
 		.pm = &tegra210_mixer_pm_ops,
 	},
 	.probe = tegra210_mixer_platform_probe,
-	.remove = tegra210_mixer_platform_remove,
+	.remove = tegra210_mixer_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_mixer_driver);
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_mvc.c b/nvidia-oot/sound/soc/tegra/tegra210_mvc.c
index 53e130d..20567f5 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_mvc.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_mvc.c
@@ -763,6 +763,18 @@ static const struct dev_pm_ops tegra210_mvc_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_mvc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_mvc_platform_remove(pdev);
+}
+#else
+static inline int tegra210_mvc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_mvc_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_mvc_driver = {
 	.driver = {
 		.name = "tegra210-mvc",
@@ -770,7 +782,7 @@ static struct platform_driver tegra210_mvc_driver = {
 		.pm = &tegra210_mvc_pm_ops,
 	},
 	.probe = tegra210_mvc_platform_probe,
-	.remove = tegra210_mvc_platform_remove,
+	.remove = tegra210_mvc_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_mvc_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_ope.c b/nvidia-oot/sound/soc/tegra/tegra210_ope.c
index b09cea5..c2d1ecb 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_ope.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_ope.c
@@ -371,6 +371,18 @@ static const struct dev_pm_ops tegra210_ope_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_ope_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_ope_platform_remove(pdev);
+}
+#else
+static inline int tegra210_ope_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_ope_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_ope_driver = {
 	.driver = {
 		.name = "tegra210-ope",
@@ -378,7 +390,7 @@ static struct platform_driver tegra210_ope_driver = {
 		.pm = &tegra210_ope_pm_ops,
 	},
 	.probe = tegra210_ope_platform_probe,
-	.remove = tegra210_ope_platform_remove,
+	.remove = tegra210_ope_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_ope_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra210_sfc.c b/nvidia-oot/sound/soc/tegra/tegra210_sfc.c
index b14c159..5d9d173 100644
--- a/nvidia-oot/sound/soc/tegra/tegra210_sfc.c
+++ b/nvidia-oot/sound/soc/tegra/tegra210_sfc.c
@@ -3504,6 +3504,18 @@ static const struct dev_pm_ops tegra210_sfc_pm_ops = {
 				     pm_runtime_force_resume)
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra210_sfc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        tegra210_sfc_platform_remove(pdev);
+}
+#else
+static inline int tegra210_sfc_platform_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra210_sfc_platform_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra210_sfc_driver = {
 	.driver = {
 		.name = "tegra210-sfc",
@@ -3511,7 +3523,7 @@ static struct platform_driver tegra210_sfc_driver = {
 		.pm = &tegra210_sfc_pm_ops,
 	},
 	.probe = tegra210_sfc_platform_probe,
-	.remove = tegra210_sfc_platform_remove,
+	.remove = tegra210_sfc_platform_remove_wrapper,
 };
 module_platform_driver(tegra210_sfc_driver)
 
diff --git a/nvidia-oot/sound/soc/tegra/tegra_machine_driver.c b/nvidia-oot/sound/soc/tegra/tegra_machine_driver.c
index 6a15287..c27d173 100644
--- a/nvidia-oot/sound/soc/tegra/tegra_machine_driver.c
+++ b/nvidia-oot/sound/soc/tegra/tegra_machine_driver.c
@@ -403,6 +403,18 @@ static const struct dev_pm_ops tegra_asoc_machine_pm_ops = {
 	.poweroff = snd_soc_poweroff,
 };
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void tegra_machine_driver_remove_wrapper(struct platform_device *pdev)
+{
+        tegra_machine_driver_remove(pdev);
+}
+#else
+static inline int tegra_machine_driver_remove_wrapper(struct platform_device *pdev)
+{
+        return tegra_machine_driver_remove(pdev);
+}
+#endif
+
 static struct platform_driver tegra_asoc_machine_driver = {
 	.driver = {
 		.name = DRV_NAME,
@@ -411,7 +423,7 @@ static struct platform_driver tegra_asoc_machine_driver = {
 		.of_match_table = tegra_machine_of_match,
 	},
 	.probe = tegra_machine_driver_probe,
-	.remove = tegra_machine_driver_remove,
+	.remove = tegra_machine_driver_remove_wrapper,
 };
 module_platform_driver(tegra_asoc_machine_driver);
 
diff --git a/nvidia-oot/sound/tegra-safety-audio/sound-card.c b/nvidia-oot/sound/tegra-safety-audio/sound-card.c
index 404fceb..d23e313 100644
--- a/nvidia-oot/sound/tegra-safety-audio/sound-card.c
+++ b/nvidia-oot/sound/tegra-safety-audio/sound-card.c
@@ -817,9 +817,21 @@ static int t234_safety_audio_remove(struct platform_device *pdev)
 	return 0;
 }
 
+#if defined(NV_PLATFORM_DRIVER_STRUCT_REMOVE_RETURNS_VOID) /* Linux v6.11 */
+static inline void t234_safety_audio_remove_wrapper(struct platform_device *pdev)
+{
+       t234_safety_audio_remove(pdev);
+}
+#else
+static inline int t234_safety_audio_remove_wrapper(struct platform_device *pdev)
+{
+       return t234_safety_audio_remove(pdev);
+}
+#endif
+
 static struct platform_driver t234_safety_audio_driver = {
 	.probe = t234_safety_audio_probe,
-	.remove = t234_safety_audio_remove,
+	.remove = t234_safety_audio_remove_wrapper,
 	.driver = {
 		.name = "tegra234-safety-audio",
 		.owner = THIS_MODULE,
-- 
2.47.2

